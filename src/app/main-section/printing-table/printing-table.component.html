<div class="full-screen">
    <div class="d-flex flex-grow-1" style="max-width: 100%;">
        <div class="zx-settings-nav flex-shrink h-100 d-flex flex-column overflow-hidden"
            [class.zx-settings-nav-dark]="isDarkMode">
            <article class="w-100 h-100 d-flex pt-3 flex-column overflow-auto">
                <article class="w-100 d-flex flex-column gap-2 flex-grow-1">

                    <div class="w-100 d-flex px-3">
                        <app-navigation-from-printingtable
                            class="d-flex flex-grow-1"></app-navigation-from-printingtable>
                        <div *ngIf="isManiger() || isSt()"
                            class="pb-3 px-1 d-flex align-items-center zx-management-con">
                            <div class="pt-1 d-flex rounded-2 c-pointer opacity-50" mat-ripple
                                [matMenuTriggerFor]="ManigerManu"
                                [matTooltip]="'main-nav.super-management-mode' | translate"
                                [matTooltipPosition]="'below'">
                                <mat-icon class="c-pointer">settings</mat-icon>
                            </div>
                            <mat-menu #ManigerManu="matMenu">
                                <!-- printer -->
                                <button class="d-flex align-items-center gap-1 px-2" [class.zx-ltr]="!isRTL"
                                    mat-menu-item (click)="goToManagementPage('printer')">
                                    <b class="zx-text-small m-0" [class.zx-text-white]="isDarkMode">
                                        {{ 'su-management.printer-management' | translate }}
                                    </b>
                                    <mat-icon class="mx-1 p-0 zx-pt-small"
                                        [class.zx-text-white]="isDarkMode">print</mat-icon>
                                </button>
                                <!-- orders -->
                                <button *ngIf="isManiger()" class="d-flex align-items-center gap-1 px-2"
                                    [class.zx-ltr]="!isRTL" mat-menu-item (click)="goToManagementPage('orders')">
                                    <b class="zx-text-small m-0" [class.zx-text-white]="isDarkMode">
                                        {{ 'su-management.orders-management' | translate }}
                                    </b>
                                    <mat-icon class="mx-1 p-0 zx-pt-small"
                                        [class.zx-text-white]="isDarkMode">assignment</mat-icon>
                                </button>
                                <!-- users -->
                                <button *ngIf="isSu()" class="d-flex align-items-center gap-1 px-2"
                                    [class.zx-ltr]="!isRTL" mat-menu-item (click)="goToManagementPage('users')">
                                    <b class="zx-text-small m-0" [class.zx-text-white]="isDarkMode">
                                        {{ 'su-management.users-management' | translate }}
                                    </b>
                                    <mat-icon class="mx-1 p-0 zx-pt-small"
                                        [class.zx-text-white]="isDarkMode">supervisor_account</mat-icon>
                                </button>
                                <!-- inventory -->
                                <button class="d-flex align-items-center gap-1 px-2" [class.zx-ltr]="!isRTL"
                                    mat-menu-item (click)="goToManagementPage('inventory')">
                                    <b class="zx-text-small m-0" [class.zx-text-white]="isDarkMode">
                                        {{ 'su-management.inventory-management' | translate }}
                                    </b>
                                    <mat-icon class="mx-1 p-0 zx-pt-small"
                                        [class.zx-text-white]="isDarkMode">ballot</mat-icon>
                                </button>
                                <!-- branch -->
                                <button *ngIf="isSu()" class="d-flex align-items-center gap-1 px-2"
                                    [class.zx-ltr]="!isRTL" mat-menu-item (click)="goToManagementPage('branch')">
                                    <b class="zx-text-small m-0" [class.zx-text-white]="isDarkMode">
                                        {{ 'su-management.branch-management' | translate }}
                                    </b>
                                    <mat-icon class="mx-1 p-0 zx-pt-small"
                                        [class.zx-text-white]="isDarkMode">how_to_reg</mat-icon>
                                </button>
                                <!-- report -->
                                <button *ngIf="isManiger()" class="d-flex align-items-center gap-1 px-2"
                                    [class.zx-ltr]="!isRTL" mat-menu-item (click)="goToManagementPage('report')">
                                    <b class="zx-text-small m-0" [class.zx-text-white]="isDarkMode">
                                        {{ 'su-management.report-management' | translate }}
                                    </b>
                                    <mat-icon class="mx-1 p-0 zx-pt-small"
                                        [class.zx-text-white]="isDarkMode">equalizer</mat-icon>
                                </button>
                            </mat-menu>
                        </div>
                    </div>

                    <div class="w-100 d-flex flex-column-reverse flex-md-row flex-grow-1">

                        <div class="zx-files-area-outer-outer">
                            <div class="zx-files-area-outer">
                                <div class="zx-files-area" [class.zx-bg-dark]="isDarkMode">
                                    <div class="d-flex flex-column gap-2">
                                        <h6
                                            class="mb-0 zx-text-small fw-bold zx-text-sm-medium zx-px-10 d-none d-ms-inline">
                                            {{'printing-table.my-order' | translate}}
                                        </h6>
                                        <span class="d-md-none"></span>
                                        <!-- file list [plotter] -->
                                        <div id="filesAreaPlotter" class="zx-files-area-inner"
                                            *ngIf="printingService === 'plotter'">

                                            <!-- upload btn [plotter] -->
                                            <article mat-ripple
                                                class="zx-files-area-item-small c-pointer rounded-3 p-2 m-lg-1 zx-border-gray-v-v-light
                                                                       shadow-85-light d-flex flex-column justify-content-between align-items-center"
                                                [class.zx-files-area-item-tiny]="files.length > 0 && !currentlyUploading"
                                                [class.zx-border-gray-25-pr]="isDarkMode"
                                                [class.zx-page-obj-container-bg-darkmode]="isDarkMode" ng2FileDrop
                                                [uploader]="uploader" (fileOver)="fileOverBase($event)"
                                                (onFileDrop)="onFileDrop($event)"
                                                [ngClass]="{'file-drop-hover': hasBaseDropZoneOver}"
                                                (click)="fileInput.click()">
                                                <img *ngIf="files.length > 0 && !currentlyUploading"
                                                    src="/assets/images/upload-file-next-icon.svg"
                                                    class="upload-file-icon-small-next svg c-pointer">
                                                <div *ngIf="files.length === 0 && !currentlyUploading">
                                                    <img src="/assets/images/upload-file-icon.svg"
                                                        class="upload-file-icon svg c-pointer"
                                                        [@rattleAnimation]="rattle">
                                                </div>
                                                <div *ngIf="!currentlyUploading">
                                                    <h6 class="mb-0 zx-text-small fw-bold zx-text-sm-medium zx-px-10 text-center"
                                                        [@textAnimation]="rattle && files.length > 0">
                                                        {{'printing-table.upload-file' | translate}}
                                                    </h6>
                                                </div>
                                                <input type="file" ng2FileSelect [uploader]="uploader" #fileInput hidden
                                                    multiple />
                                                <!-- // uplaod file -->
                                                <!-- uplaod progress -->
                                                <div *ngIf="currentlyUploading"
                                                    class="d-flex flex-column h-100 w-100 justify-content-center align-items-center">
                                                    <div
                                                        class="w-100 d-flex flex-column flex-grow-1 justify-content-center align-items-center gap-1 gap-lg-2">
                                                        <b class="zx-text-big text-green">
                                                            <span>{{uploadProgress}}</span>
                                                            <span>%</span>
                                                        </b>
                                                        <span class="zx-text-small opacity-75"
                                                            *ngIf="uploadingFiles.length > 1">
                                                            <span>
                                                                {{ 'printing-table.file' | translate }}
                                                            </span>
                                                            <span>1</span>
                                                            <span>
                                                                {{ 'printing-table.out-of' | translate }}
                                                            </span>
                                                            <span>
                                                                {{uploadingFiles.length}}
                                                            </span>
                                                        </span>
                                                    </div>
                                                    <div
                                                        class="w-100 d-flex flex-column justify-content-center align-items-center gap-1 gap-lg-2">
                                                        <mat-progress-bar mode="determinate"
                                                            [value]="uploadProgress"></mat-progress-bar>
                                                        <h6 class="zx-text-medium">
                                                            <span *ngIf="uploadingFiles.length === 1">
                                                                {{ 'printing-table.uploading-file-one' | translate }}
                                                            </span>
                                                            <span *ngIf="uploadingFiles.length > 1">
                                                                {{ 'printing-table.uploading-file-multi' | translate }}
                                                            </span>
                                                        </h6>
                                                    </div>
                                                    <!-- stop uploading -->
                                                    <div class="position-absolute d-flex px-2 top-0 w-100">
                                                        <div matRipple [matMenuTriggerFor]="stopUploadingManuPlotter"
                                                            (click)="stopEvent($event)"
                                                            class="d-flex justify-content-center align-items-center zx-bg-light c-pointer">
                                                            <mat-icon
                                                                class="text-red mx-0 m-0 p-1 zx-text-small c-pointer">close</mat-icon>
                                                        </div>
                                                        <mat-menu #stopUploadingManuPlotter="matMenu">
                                                            <button class="d-flex align-items-center gap-1 px-2"
                                                                [class.zx-ltr]="!isRTL" mat-menu-item
                                                                (click)="stopUploading()">
                                                                <b class="text-red zx-text-small m-0"
                                                                    [class.zx-text-white]="isDarkMode">
                                                                    {{ 'printing-table.stop-uploading' | translate }}
                                                                </b>
                                                                <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                                    [class.zx-text-white]="isDarkMode">close</mat-icon>
                                                            </button>
                                                        </mat-menu>
                                                    </div>
                                                    <!-- // stop uploading -->
                                                </div>
                                                <!-- // plaod progress -->
                                            </article>

                                            <!-- Delete All Files -->
                                            <article *ngIf="realBranch && files.length > 1" mat-ripple class="zx-files-area-item-tiny c-pointer w-100 rounded-3 p-2 m-lg-1 zx-border-gray-v-v- light
                                                shadow-85-light" [class.zx-border-gray-25-pr]="isDarkMode"
                                                [class.zx-page-obj-container-bg-darkmode]="isDarkMode"
                                                [matMenuTriggerFor]="clearAllFilesManu">
                                                <h6 class="mb-0 zx-text-small text-center">
                                                    {{ 'printing-table.clear-all-files' | translate }}
                                                </h6>
                                            </article>
                                            <mat-menu #clearAllFilesManu="matMenu">
                                                <button class="d-flex align-items-center gap-1 px-2" mat-menu-item
                                                    [class.zx-ltr]="!isRTL" (click)="onDeleteAllFiles()">
                                                    <b class="text-red zx-text-small m-0 text-red"
                                                        [class.zx-text-white]="isDarkMode">
                                                        {{'printing-table.clear-all-files-for-good' | translate}}
                                                    </b>
                                                    <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                        style="min-width: 35px;"
                                                        [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                </button>
                                            </mat-menu>

                                            <!-- file [plotter] -->
                                            <article *ngFor="let file of files; index as i" #fileElement
                                                class="zx-file-obj">

                                                <!-- proccessing files [plotter] -->
                                                <div *ngIf="file.images?.length === 0"
                                                    class="zx-files-area-item-small zx-img-obj-container rounded-3 pb-2 zx-border-gray-v-v-light
                                                  shadow-85-light d-flex flex-column justify-content-between align-items-center position-relative"
                                                    [class.zx-border-gray-25-pr]="isDarkMode"
                                                    [class.zx-page-obj-container-bg-darkmode]="isDarkMode">
                                                    <div
                                                        class="position-absolute d-flex px-2 zx-pb-12 rounded-pill bottom-0 w-100">
                                                        <div matRipple [matMenuTriggerFor]="deleteManu"
                                                            class="delete-button delete-button-fix-mobile d-flex justify-content-center align-items-center zx-bg-light c-pointer">
                                                            <mat-icon
                                                                class="text-red mx-0 mt-0 mb-1 p-1 zx-text-medium c-pointer">delete_outline</mat-icon>
                                                        </div>
                                                        <mat-menu #deleteManu="matMenu">
                                                            <button class="d-flex align-items-center gap-1 px-2"
                                                                [class.zx-ltr]="!isRTL" mat-menu-item
                                                                (click)="onDeleteFileOrImage(file, i, null, 0, true, true)">
                                                                <b class="text-red zx-text-small m-0"
                                                                    [class.zx-text-white]="isDarkMode">
                                                                    {{'printing-table.delete-file-for-good'
                                                                    | translate}}
                                                                </b>
                                                                <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                                    [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                            </button>
                                                        </mat-menu>
                                                    </div>
                                                    <!-- name -->
                                                    <div class="w-100 d-flex justify-content-center align-items-center">
                                                        <span class="opacity-trans"
                                                            [class.opacity-trans-not-rtl]="!isRTL">
                                                            <span class="zx-text-tiny fw-bold">
                                                                {{file.fileName.split('-')[1] | slice:0:16}}
                                                            </span>
                                                            <span class="zx-text-tiny"
                                                                *ngIf="file.fileName.split('-')[1].length > 16">
                                                                ...
                                                            </span>
                                                        </span>
                                                    </div>
                                                    <!-- spinner -->
                                                    <div class="zx-small-icon-size zx-small-plus-icon-size-lg">
                                                        <mat-spinner class="w-100 h-100"></mat-spinner>
                                                    </div>
                                                    <!-- proccessing text -->
                                                    <h6 class="mb-0 zx-text-small text-center opacity-trans zx-z-index-1"
                                                        [class.opacity-trans-not-rtl]="!isRTL"
                                                        [matTooltip]="'printing-table.proccessing.explain' | translate"
                                                        [matTooltipPosition]="'above'" [dir]="tooltipDirection">
                                                        {{ 'printing-table.proccessing' | translate }}
                                                    </h6>
                                                </div>
                                                <!-- // proccessing files [plotter] -->

                                                <!-- finished files [plotter] -->
                                                <div *ngIf="file.images && file.images.length > 0"
                                                    class="zx-page-obj-container"
                                                    [class.zx-bg-choosen]="file.fileName === currentFile.fileName && file.images.length > 1"
                                                    [class.zx-page-obj-container-bg]="file.images.length > 1"
                                                    [class.zx-page-obj-container-bg-darkmode]="file.images.length > 1 && isDarkMode">

                                                    <!-- file.images [plotter] -->
                                                    <article *ngFor="let image of file.images; let j = index"
                                                        (click)="onChooseImage(file, image, j)" class="zx-page-obj"
                                                        [class.zx-page-obj-first]="j === 0 && file.images.length > 1">
                                                        <div *ngIf="file.images.length > 1 && j === 0"
                                                            [class.text-green]="file.fileName === currentFile.fileName"
                                                            [class.zx-text-white-imp]="file.fileName === currentFile.fileName && isDarkMode"
                                                            class="w-100 d-flex justify-content-between px-2 align-items-center">
                                                            <span>
                                                                <span class="zx-text-tiny fw-bold">
                                                                    {{file.fileName.split('-')[1] | slice:0:12}}
                                                                </span>
                                                                <span class="zx-text-tiny"
                                                                    *ngIf="file.fileName.split('-')[1].length > 12">
                                                                    ...
                                                                </span>
                                                            </span>
                                                            <span class="zx-text-tiny opacity-75">
                                                                <span>
                                                                    {{file.images.length}}
                                                                </span>
                                                                <span>
                                                                    {{'printing-table.pages-short' | translate}}
                                                                </span>
                                                            </span>
                                                        </div>
                                                        <!-- file.images - inner rectangle [plotter] -->
                                                        <article
                                                            [class.zx-border-choosen]="file.fileName === currentFile.fileName && currentImageIndex === j"
                                                            class="zx-img-obj-container-container c-pointer rounded-3 d-flex flex-column zx-border-gray-v-v-light shadow-85-light w-100 h-100 flex-grow-1 "
                                                            [class.zx-height-201]="j === 0"
                                                            [class.zx-border-gray-25-pr]="isDarkMode"
                                                            [class.bg-white]="isDarkMode">
                                                            <span *ngIf="!(file.images.length > 1)"
                                                                [class.zx-img-title-hover]="currentFile.images.length === 1"
                                                                [class.text-green]="file.fileName === currentFile.fileName"
                                                                [class.text-black-imp]="isDarkMode"
                                                                [class.text-green-imp]="file.fileName === currentFile.fileName && isDarkMode">
                                                                <span class="zx-text-tiny fw-bold w-100 text-center">
                                                                    {{file.fileName.split('-')[1] | slice:0:16}}
                                                                </span>
                                                                <span class="zx-text-tiny"
                                                                    *ngIf="file.fileName.split('-')[1].length > 16">
                                                                    ...
                                                                </span>
                                                            </span>
                                                            <div class="zx-img-obj-container">
                                                                <img [src]="serverAddress+'/uploads/' + getUserName() + '/' + image.thumbnailPath.split('/').pop()"
                                                                    class="zx-img-obj" alt="File Image">
                                                                <!-- page of page (/) [plotter] -->
                                                                <div *ngIf="file.images.length > 1"
                                                                    class="position-absolute w-100 px-2 d-flex top-0 pt-md-2">
                                                                    <span
                                                                        class="zx-text-tiny p-1 zx-bg-light zx-text-gray-dark"
                                                                        [class.fw-bold]="file.fileName === currentFile.fileName && image.imagePath === currentImage.imagePath"
                                                                        [class.text-green-imp]="file.fileName === currentFile.fileName && image.imagePath === currentImage.imagePath">
                                                                        <div class="d-flex align-items-center"
                                                                            [class.flex-row-reverse]="isRTL">
                                                                            <span>
                                                                                {{j + 1}}
                                                                            </span>
                                                                            <span>/</span>
                                                                            <span>
                                                                                {{file.images.length}}
                                                                            </span>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                                <!-- delete [plotter] -->
                                                                <div class="position-absolute d-none d-md-flex px-2 zx-pb-12 rounded-pill bottom-0 zx-z-index-1"
                                                                    [class.zx-pb-35]="!image?.printSettings.paperType">
                                                                    <div matRipple [matMenuTriggerFor]="deleteManu"
                                                                        class="delete-button d-flex justify-content-center align-items-center zx-bg-light">
                                                                        <mat-icon
                                                                            class="text-red mx-0 mt-0 mb-1 p-1 zx-text-medium">delete_outline</mat-icon>
                                                                    </div>
                                                                    <mat-menu #deleteManu="matMenu">
                                                                        <button *ngIf="currentFile.images.length !== 1"
                                                                            class="d-flex align-items-center gap-1 px-2"
                                                                            [class.zx-ltr]="!isRTL" mat-menu-item
                                                                            (click)="onDeleteFileOrImage(file, i, image, j)">
                                                                            <b class="text-red zx-text-small m-0"
                                                                                [class.zx-text-white]="isDarkMode">
                                                                                {{'printing-table.delete-page-for-good'
                                                                                |
                                                                                translate}}
                                                                            </b>
                                                                            <mat-icon
                                                                                class="text-red mx-1 p-0 zx-pt-small"
                                                                                [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                                        </button>
                                                                        <button
                                                                            class="d-flex align-items-center gap-1 px-2"
                                                                            [class.zx-ltr]="!isRTL" mat-menu-item
                                                                            (click)="onDeleteFileOrImage(file, i, image, j, true)">
                                                                            <b class="text-red zx-text-small m-0"
                                                                                [class.zx-text-white]="isDarkMode">
                                                                                {{'printing-table.delete-file-for-good'
                                                                                |
                                                                                translate}}
                                                                            </b>
                                                                            <mat-icon
                                                                                class="text-red mx-1 p-0 zx-pt-small"
                                                                                [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                                        </button>
                                                                    </mat-menu>
                                                                </div>
                                                                <!-- paper is not set [plotter] -->
                                                                <div *ngIf="!image.printSettings.paperType"
                                                                    class="zx-image-with-no-paper">
                                                                    <img src="/assets/images/exclamation-icon-white.svg"
                                                                        class="zx-small-tiny-icon-size svg c-pointer">
                                                                    <span class="zx-text-tiny text-white">
                                                                        {{'printing-table.image-no-paper' | translate}}
                                                                    </span>
                                                                </div>
                                                                <!-- paper is set [plotter] -->
                                                                <div class="zx-image-with-paper"
                                                                    *ngIf="image.printSettings.paperType && this.paperCodes.includes(image.printSettings.paperType)">
                                                                    <!-- paper [plotter] -->
                                                                    <div
                                                                        class="d-flex align-items-center gap-1 px-2 zx-bg-light zx-w-fit-content">
                                                                        <img src="/assets/images/paper-roll-icon.svg"
                                                                            class="zx-small-tiny-icon-size svg c-pointer">
                                                                        <span class="zx-text-tiny zx-text-gray-dark">
                                                                            {{ "paper-type.name-short." +
                                                                            this.paperNames[this.paperCodes.indexOf(image.printSettings.paperType)]
                                                                            | translate }}
                                                                        </span>
                                                                    </div>
                                                                    <!-- copies and price [plotter] -->
                                                                    <div
                                                                        class="d-flex align-items-center gap-1 px-2 zx-bg-light zx-w-fit-content">
                                                                        <span class="zx-text-tiny zx-text-gray-dark">
                                                                            <span
                                                                                *ngIf="image.printSettings && image.printSettings.numOfCopies > 1">
                                                                                <span>
                                                                                    {{
                                                                                    roundDownTowDecimal(
                                                                                    image.price
                                                                                    )
                                                                                    }}
                                                                                </span>
                                                                                <span>×</span>
                                                                                <span>
                                                                                    {{
                                                                                    image.printSettings.numOfCopies
                                                                                    }}
                                                                                </span>
                                                                                <span>=</span>
                                                                            </span>
                                                                            <span>
                                                                                {{
                                                                                roundDownTowDecimal(
                                                                                image.printSettings.numOfCopies *
                                                                                image.price
                                                                                )
                                                                                }}
                                                                            </span>
                                                                            <span class="zx-text-tiny-tiny">
                                                                                {{ 'printing-table.nis' | translate
                                                                                }}
                                                                            </span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </article>
                                                        <!-- // file.images - inner rectangle [plotter] -->
                                                    </article>
                                                    <!-- // file.images [plotter] -->
                                                </div>
                                                <!-- finished files [plotter] -->

                                            </article>
                                            <!-- // files [plotter] -->

                                        </div>

                                        <!-- file list [express] -->
                                        <div id="filesAreaExpress" class="zx-files-area-inner"
                                            *ngIf="printingService === 'express'">

                                            <!-- upload btn [express] -->
                                            <article mat-ripple
                                                class="zx-files-area-item-small c-pointer rounded-3 p-2 m-lg-1 zx-border-gray-v-v-light
                                                shadow-85-light d-flex flex-column justify-content-center align-items-center"
                                                [class.zx-files-area-item-tiny]="files.length > 0 && !currentlyUploading"
                                                [class.zx-border-gray-25-pr]="isDarkMode"
                                                [class.zx-page-obj-container-bg-darkmode]="isDarkMode" ng2FileDrop
                                                [uploader]="uploader" (fileOver)="fileOverBase($event)"
                                                (onFileDrop)="onFileDrop($event)"
                                                [ngClass]="{'file-drop-hover': hasBaseDropZoneOver}"
                                                (click)="fileInput.click()">
                                                <!-- uplaod file -->
                                                <img *ngIf="files.length > 0 && !currentlyUploading"
                                                    src="/assets/images/upload-file-next-icon.svg"
                                                    class="upload-file-icon-small-next svg c-pointer">
                                                <div *ngIf="files.length === 0 && !currentlyUploading">
                                                    <img src="/assets/images/upload-file-icon.svg"
                                                        class="upload-file-icon svg c-pointer"
                                                        [@rattleAnimation]="rattle">
                                                </div>
                                                <div *ngIf="!currentlyUploading">
                                                    <h6 class="mb-0 zx-text-small fw-bold zx-text-sm-medium zx-px-10 text-center"
                                                        [@textAnimation]="rattle && files.length > 0">
                                                        {{'printing-table.upload-file' | translate}}
                                                    </h6>
                                                </div>
                                                <input type="file" ng2FileSelect [uploader]="uploader" #fileInput hidden
                                                    multiple />
                                                <!-- // uplaod file -->
                                                <!-- uplaod progress -->
                                                <div *ngIf="currentlyUploading"
                                                    class="d-flex flex-column h-100 w-100 justify-content-center align-items-center position-relative">
                                                    <div
                                                        class="w-100 d-flex flex-column flex-grow-1 justify-content-center align-items-center gap-1 gap-lg-2">
                                                        <b class="zx-text-big text-green">
                                                            <span>{{uploadProgress}}</span>
                                                            <span>%</span>
                                                        </b>
                                                        <span class="zx-text-small opacity-75"
                                                            *ngIf="uploadingFiles.length > 1">
                                                            <span>
                                                                {{ 'printing-table.file' | translate }}
                                                            </span>
                                                            <span>1</span>
                                                            <span>
                                                                {{ 'printing-table.out-of' | translate }}
                                                            </span>
                                                            <span>
                                                                {{uploadingFiles.length}}
                                                            </span>
                                                        </span>
                                                    </div>
                                                    <div
                                                        class="w-100 d-flex flex-column justify-content-center align-items-center gap-1 gap-lg-2">
                                                        <mat-progress-bar mode="determinate"
                                                            [value]="uploadProgress"></mat-progress-bar>
                                                        <h6 class="zx-text-medium">
                                                            <span *ngIf="uploadingFiles.length === 1">
                                                                {{ 'printing-table.uploading-file-one' | translate }}
                                                            </span>
                                                            <span *ngIf="uploadingFiles.length > 1">
                                                                {{ 'printing-table.uploading-file-multi' | translate }}
                                                            </span>
                                                        </h6>
                                                    </div>
                                                    <!-- stop uploading -->
                                                    <div class="position-absolute d-flex px-2 top-0 w-100">
                                                        <div matRipple [matMenuTriggerFor]="stopUploadingManuExpress"
                                                            (click)="stopEvent($event)"
                                                            class="d-flex justify-content-center align-items-center zx-bg-light c-pointer">
                                                            <mat-icon
                                                                class="text-red mx-0 m-0 p-1 zx-text-small c-pointer">close</mat-icon>
                                                        </div>
                                                        <mat-menu #stopUploadingManuExpress="matMenu">
                                                            <button class="d-flex align-items-center gap-1 px-2"
                                                                [class.zx-ltr]="!isRTL" mat-menu-item
                                                                (click)="stopUploading()">
                                                                <b class="text-red zx-text-small m-0"
                                                                    [class.zx-text-white]="isDarkMode">
                                                                    {{ 'printing-table.stop-uploading' | translate }}
                                                                </b>
                                                                <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                                    [class.zx-text-white]="isDarkMode">close</mat-icon>
                                                            </button>
                                                        </mat-menu>
                                                    </div>
                                                    <!-- // stop uploading -->
                                                </div>
                                                <!-- // plaod progress -->
                                            </article>

                                            <!-- fix products -->
                                            <article mat-ripple class="zx-files-area-item-tiny c-pointer w-100 rounded-3 p-2 m-lg-1 zx-border-gray-v-v- light
                                            shadow-85-light" [class.zx-border-gray-25-pr]="isDarkMode"
                                                [class.zx-page-obj-container-bg-darkmode]="isDarkMode"
                                                *ngIf="branchHasFixProducts()" (click)="openFixProductsDialog($event)">
                                                <!-- uplaod file -->
                                                <div
                                                    class="flex-grow-1 d-flex flex-column justify-content-center align-items-center">
                                                    <div
                                                        class="w-100 d-flex flex-column flex-lg-row gap-2 gap-lg-0 justify-content-center align-items-center">
                                                        <h6 class="mb-0 zx-text-small text-center">
                                                            <span *ngIf="!(totalOrderdFixProducts() > 0)">
                                                                {{ 'fix-products.add' | translate }}
                                                            </span>
                                                            <span *ngIf="totalOrderdFixProducts() > 0">
                                                                {{ 'fix-products.products' | translate }}
                                                            </span>
                                                        </h6>
                                                        <div *ngIf="!(totalOrderdFixProducts() > 0)"
                                                            aria-label="Fix Products Explained"
                                                            [matTooltip]="'fix-products.tooltip' | translate"
                                                            [matTooltipPosition]="'below'" [dir]="tooltipDirection"
                                                            [matTooltipShowDelay]="0" #tooltipFixProducts="matTooltip"
                                                            class="i-explain-icon svg c-pointer zx-small-icon-size p-1 m-0"
                                                            style="background-image: url('/assets/images/i-explain-icon.svg');
                                                              background-repeat: no-repeat;
                                                              background-size: cover;
                                                              width: 24px;
                                                              height: 24px;" (click)="toggleTooltip('FixProducts')">
                                                        </div>
                                                    </div>
                                                    <div *ngIf="totalOrderdFixProducts() > 0"
                                                        class="w-100 d-flex flex-column flex-lg-row gap-1 gap-lg-0 justify-content-between align-items-center pt-2">
                                                        <span *ngIf="totalOrderdFixProducts() === 1"
                                                            class="text-green zx-text-tiny text-center">{{
                                                            "fix-products.num-of-products.one" | translate }}
                                                        </span>
                                                        <span class="text-green zx-text-tiny text-center"
                                                            *ngIf="totalOrderdFixProducts() > 1">
                                                            <span>{{ totalOrderdFixProducts() }}</span>
                                                            <span>
                                                                {{ "fix-products.num-of-products.many" | translate }}
                                                            </span>
                                                        </span>
                                                        <span class="text-green zx-text-tiny d-flex">
                                                            <span>{{ totalOrderdFixProductsPrice() }}</span>
                                                            <span class="zx-100-opp">.</span>
                                                            <span>{{ "printing-table.nis" | translate }}</span>
                                                        </span>
                                                        <div
                                                            class="d-flex justify-content-center c-pointer pt-1 pt-lg-0">
                                                            <img *ngIf="!isDarkMode"
                                                                src="assets/images/chainge-icon.svg"
                                                                class="svg zx-small-tiny-icon-size c-pointer">
                                                            <img *ngIf="isDarkMode"
                                                                src="assets/images/chainge-icon-green.svg"
                                                                class="svg zx-small-tiny-icon-size c-pointer">
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>

                                            <!-- scan-copy -->
                                            <article *ngIf="realBranch && realBranch?.express?.scan?.enabled" mat-ripple
                                                (click)="openScanCopyDialog($event)" class="zx-files-area-item-tiny c-pointer w-100 rounded-3 p-2 m-lg-1 zx-border-gray-v-v- light
                                                 shadow-85-light" [class.zx-border-gray-25-pr]="isDarkMode"
                                                [class.zx-page-obj-container-bg-darkmode]="isDarkMode">
                                                <h6 class="mb-0 zx-text-small text-center">
                                                    {{ 'printing-table.scan-copy' | translate }}
                                                </h6>
                                                <div aria-label="Scan and Copy Explained"
                                                    [matTooltip]="'printing-table.scan-copy.explain' | translate"
                                                    [matTooltipPosition]="'below'" [dir]="tooltipDirection"
                                                    [matTooltipShowDelay]="0" #tooltipScanCopy="matTooltip"
                                                    class="i-explain-icon svg c-pointer zx-small-icon-size p-1 m-0"
                                                    style="background-image: url('/assets/images/i-explain-icon.svg');
                                                          background-repeat: no-repeat;
                                                          background-size: cover;
                                                          width: 24px;
                                                          height: 24px;" (click)="toggleTooltip('ScanCopy')">
                                                </div>
                                            </article>

                                            <!-- Delete All Files -->
                                            <article *ngIf="realBranch && files.length > 1" mat-ripple class="zx-files-area-item-tiny c-pointer w-100 rounded-3 p-2 m-lg-1 zx-border-gray-v-v- light
                                                shadow-85-light" [class.zx-border-gray-25-pr]="isDarkMode"
                                                [class.zx-page-obj-container-bg-darkmode]="isDarkMode"
                                                [matMenuTriggerFor]="clearAllFilesManuExpress">
                                                <h6 class="mb-0 zx-text-small text-center text-red">
                                                    {{ 'printing-table.clear-all-files' | translate }}
                                                </h6>
                                            </article>
                                            <mat-menu #clearAllFilesManuExpress="matMenu">
                                                <button class="d-flex align-items-center gap-1 px-2" mat-menu-item
                                                    [class.zx-ltr]="!isRTL" (click)="onDeleteAllFiles()">
                                                    <b class="text-red zx-text-small m-0"
                                                        [class.zx-text-white]="isDarkMode">
                                                        {{'printing-table.clear-all-files-for-good' | translate}}
                                                    </b>
                                                    <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                        style="min-width: 35px;"
                                                        [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                </button>
                                            </mat-menu>

                                            <!-- files [express] -->
                                            <article *ngFor="let file of files; index as i" #fileExpressElement
                                                class="zx-file-obj">

                                                <!-- proccessing files [express] -->
                                                <div *ngIf="file.images?.length === 0"
                                                    class="zx-files-area-item-small zx-img-obj-container rounded-3 pb-2 zx-border-gray-v-v-light
                                                  shadow-85-light d-flex flex-column justify-content-between align-items-center position-relative"
                                                    [class.zx-border-gray-25-pr]="isDarkMode"
                                                    [class.zx-page-obj-container-bg-darkmode]="isDarkMode">
                                                    <div
                                                        class="position-absolute d-flex px-2 zx-pb-12 rounded-pill bottom-0 w-100">
                                                        <div matRipple [matMenuTriggerFor]="deleteManu"
                                                            class="delete-button delete-button-fix-mobile d-flex justify-content-center align-items-center zx-bg-light c-pointer">
                                                            <mat-icon
                                                                class="text-red mx-0 mt-0 mb-1 p-1 zx-text-medium c-pointer">delete_outline</mat-icon>
                                                        </div>
                                                        <mat-menu #deleteManu="matMenu">
                                                            <button class="d-flex align-items-center gap-1 px-2"
                                                                [class.zx-ltr]="!isRTL" mat-menu-item
                                                                (click)="onDeleteFileOrImage(file, i, null, 0, true, true)">
                                                                <b class="text-red zx-text-small m-0"
                                                                    [class.zx-text-white]="isDarkMode">
                                                                    {{'printing-table.delete-file-for-good'
                                                                    | translate}}
                                                                </b>
                                                                <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                                    [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                            </button>
                                                        </mat-menu>
                                                    </div>
                                                    <!-- name -->
                                                    <div class="w-100 d-flex justify-content-center align-items-center">
                                                        <span class="opacity-trans"
                                                            [class.opacity-trans-not-rtl]="!isRTL">
                                                            <span class="zx-text-tiny fw-bold">
                                                                {{file.fileName.split('-')[1] | slice:0:16}}
                                                            </span>
                                                            <span class="zx-text-tiny"
                                                                *ngIf="file.fileName.split('-')[1].length > 16">
                                                                ...
                                                            </span>
                                                        </span>
                                                    </div>
                                                    <!-- spinner -->
                                                    <div class="zx-small-icon-size zx-small-plus-icon-size-lg">
                                                        <mat-spinner class="w-100 h-100"></mat-spinner>
                                                    </div>
                                                    <!-- proccessing text -->
                                                    <h6 class="mb-0 zx-text-small text-center opacity-trans zx-z-index-1"
                                                        [class.opacity-trans-not-rtl]="!isRTL"
                                                        [matTooltip]="'printing-table.proccessing.explain' | translate"
                                                        [matTooltipPosition]="'above'" [dir]="tooltipDirection">
                                                        {{ 'printing-table.proccessing' | translate }}
                                                    </h6>
                                                </div>
                                                <!-- // proccessing files [express] -->

                                                <!-- finished files [express] -->
                                                <div class="zx-page-obj-container" *ngIf="file.images.length > 0"
                                                    [class.zx-bg-choosen]="file.fileName === currentFile.fileName && file.images.length > 1"
                                                    [class.zx-page-obj-container-bg]="file.images.length > 1"
                                                    [class.zx-page-obj-container-bg-darkmode]="file.images.length > 1 && isDarkMode">
                                                    <!-- file.images [express] -->
                                                    <article *ngFor="let image of file.images; let j = index"
                                                        (click)="onChooseImage(file, image, j)" class="zx-page-obj"
                                                        [class.zx-page-obj-first]="j === 0 && file.images.length > 1">
                                                        <div *ngIf="file.images.length > 1 && j === 0"
                                                            [class.text-green-imp]="file.fileName === currentFile.fileName"
                                                            [class.zx-text-white-imp]="file.fileName === currentFile.fileName && isDarkMode"
                                                            class="w-100 d-flex justify-content-between px-2 align-items-center">
                                                            <span>
                                                                <span class="zx-text-tiny fw-bold">
                                                                    {{file.fileName.split('-')[1] | slice:0:12}}
                                                                </span>
                                                                <span class="zx-text-tiny"
                                                                    *ngIf="file.fileName.split('-')[1].length > 12">
                                                                    ...
                                                                </span>
                                                            </span>
                                                            <span class="zx-text-tiny opacity-75">
                                                                <span>
                                                                    {{file.images.length}}
                                                                </span>
                                                                <span>
                                                                    {{'printing-table.pages-short' | translate}}
                                                                </span>
                                                            </span>
                                                        </div>
                                                        <!-- file.images - inner rectangle [express] -->
                                                        <article
                                                            [class.zx-border-choosen]="file.fileName === currentFile.fileName && currentImageIndex === j"
                                                            class="zx-img-obj-container-container c-pointer rounded-3 d-flex flex-column zx-border-gray-v-v-light shadow-85-light w-100 h-100 flex-grow-1 "
                                                            [class.zx-height-201]="j === 0"
                                                            [class.zx-border-gray-25-pr]="isDarkMode"
                                                            [class.bg-white]="isDarkMode">
                                                            <span *ngIf="!(file.images.length > 1)"
                                                                [class.zx-img-title-hover]="currentFile.images.length === 1"
                                                                [class.text-green]="file.fileName === currentFile.fileName"
                                                                [class.text-black-imp]="isDarkMode"
                                                                [class.text-green-imp]="file.fileName === currentFile.fileName && isDarkMode">
                                                                <span class="zx-text-tiny fw-bold w-100 text-center">
                                                                    {{file.fileName.split('-')[1] | slice:0:16}}
                                                                </span>
                                                                <span class="zx-text-tiny"
                                                                    *ngIf="file.fileName.split('-')[1].length > 16">
                                                                    ...
                                                                </span>
                                                            </span>
                                                            <div class="zx-img-obj-container">
                                                                <img [src]="serverAddress+'/uploads/' + getUserName() + '/' + image.thumbnailPath.split('/').pop()"
                                                                    class="zx-img-obj" alt="File Image">
                                                                <!-- page of page (/) [express] -->
                                                                <div *ngIf="file.images.length > 1"
                                                                    class="position-absolute w-100 px-2 d-flex top-0 pt-md-2">
                                                                    <span
                                                                        class="zx-text-tiny p-1 zx-bg-light zx-text-gray-dark"
                                                                        [class.fw-bold]="file.fileName === currentFile.fileName && currentImageIndex === j"
                                                                        [class.text-green-imp]="file.fileName === currentFile.fileName && currentImageIndex === j">
                                                                        <div class="d-flex align-items-center"
                                                                            [class.flex-row-reverse]="isRTL">
                                                                            <span>
                                                                                {{j + 1}}
                                                                            </span>
                                                                            <span>/</span>
                                                                            <span>
                                                                                {{file.images.length}}
                                                                            </span>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                                <!-- delete [express] -->
                                                                <div class="position-absolute d-none d-md-flex px-2 zx-pb-12 rounded-pill bottom-0 zx-z-index-1"
                                                                    [class.zx-pb-35]="image && !file?.printSettings?.paperType">
                                                                    <div matRipple [matMenuTriggerFor]="deleteManu"
                                                                        class="delete-button d-flex justify-content-center align-items-center zx-bg-light">
                                                                        <mat-icon
                                                                            class="text-red mx-0 mt-0 mb-1 p-1 zx-text-medium">delete_outline</mat-icon>
                                                                    </div>
                                                                    <mat-menu #deleteManu="matMenu">
                                                                        <button *ngIf="currentFile.images.length !== 1"
                                                                            class="d-flex align-items-center gap-1 px-2"
                                                                            [class.zx-ltr]="!isRTL" mat-menu-item
                                                                            (click)="onDeleteFileOrImage(file, i, image, j)">
                                                                            <b class="text-red zx-text-small m-0"
                                                                                [class.zx-text-white]="isDarkMode">
                                                                                {{'printing-table.delete-page-for-good'
                                                                                | translate}}
                                                                            </b>
                                                                            <mat-icon
                                                                                class="text-red mx-1 p-0 zx-pt-small"
                                                                                [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                                        </button>
                                                                        <button
                                                                            class="d-flex align-items-center gap-1 px-2"
                                                                            [class.zx-ltr]="!isRTL" mat-menu-item
                                                                            (click)="onDeleteFileOrImage(file, i, image, j, true)">
                                                                            <b class="text-red zx-text-small m-0"
                                                                                [class.zx-text-white]="isDarkMode">
                                                                                {{'printing-table.delete-file-for-good'
                                                                                | translate}}
                                                                            </b>
                                                                            <mat-icon
                                                                                class="text-red mx-1 p-0 zx-pt-small"
                                                                                [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                                                        </button>
                                                                    </mat-menu>
                                                                </div>
                                                                <!-- paper is not set [express] -->
                                                                <div *ngIf="!file?.printSettings?.paperType || file?.printSettings?.paperType.length === 0"
                                                                    class="zx-image-with-no-paper">
                                                                    <img src="/assets/images/exclamation-icon-white.svg"
                                                                        class="zx-small-tiny-icon-size svg c-pointer">
                                                                    <span class="zx-text-tiny text-white">
                                                                        {{'printing-table.image-no-paper' | translate}}
                                                                    </span>
                                                                </div>
                                                                <!-- paper is set [express] -->
                                                                <div class="zx-image-with-paper"
                                                                    *ngIf="!(!file?.printSettings?.paperType)">
                                                                    <!-- paper [express] -->
                                                                    <div
                                                                        class="d-flex align-items-center gap-1 px-2 zx-bg-light zx-w-fit-content">
                                                                        <img src="/assets/images/paper-roll-icon.svg"
                                                                            class="zx-small-tiny-icon-size svg c-pointer">
                                                                        <span class="zx-text-tiny zx-text-gray-dark">
                                                                            {{ "paper-type.name-short." +
                                                                            getPaperSerialName(file)
                                                                            | translate }}
                                                                        </span>
                                                                    </div>
                                                                    <!-- copies and price [express] -->
                                                                    <div
                                                                        class="d-flex align-items-center gap-1 px-2 zx-bg-light zx-w-fit-content">
                                                                        <span class="zx-text-tiny zx-text-gray-dark">
                                                                            <span
                                                                                *ngIf="file.printSettings && file.printSettings.numOfCopies > 1">
                                                                                <span
                                                                                    *ngIf="getImagePrice$(file.printSettings) | async as imagePrice">
                                                                                    {{
                                                                                    roundDownTowDecimal(imagePrice)
                                                                                    }}
                                                                                </span>
                                                                                <span>×</span>
                                                                                <span>
                                                                                    {{
                                                                                    file.printSettings.numOfCopies
                                                                                    }}
                                                                                </span>
                                                                                <span>=</span>
                                                                            </span>
                                                                            <span
                                                                                *ngIf="getImagePrice$(file.printSettings) | async as imagePrice">
                                                                                {{
                                                                                roundDownTowDecimal(
                                                                                (file.printSettings.numOfCopies || 1)
                                                                                *
                                                                                imagePrice)
                                                                                }}
                                                                            </span>
                                                                            <span class="zx-text-tiny-tiny">
                                                                                {{ 'printing-table.nis' | translate
                                                                                }}
                                                                            </span>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </article>
                                                        <!-- // file.images - inner rectangle [express] -->
                                                    </article>
                                                    <!-- // file.images [express] -->
                                                </div>
                                                <!-- // finished files [express] -->

                                            </article>
                                            <!-- // files [express] -->

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ----------------- printing properties ----------------- -->
                        <div *ngIf="isLoading"
                            class="zx-settings-area mh-100 position-relative justify-content-center align-items-center">
                            <mat-spinner class="zx-small-plus-icon-size zx-medium-big-icon-size-lg"></mat-spinner>
                        </div>
                        <div *ngIf="!isLoading" class="zx-settings-area mh-100 position-relative">
                            <div id="zx-settings-area-inner" class="zx-settings-area-inner w-100 h-100 mh-100 position-absolute
                            d-flex flex-column gap-3" [class.zx-settings-area-inner-rtl]="!isRTL"
                                [class.overflow-auto]="!(!currentPaperType && currentImage)"
                                [class.overflow-hidden]="!currentPaperType && currentImage">
                                <!-- [printing properties] title: -->
                                <h6
                                    class="d-none d-md-flex mb-0 zx-text-small zx-pt-md-17 fw-bold zx-text-sm-medium zx-px-10">
                                    {{'printing-table.printing-settings' | translate}}
                                </h6>
                                <!-- [printing properties] file name: -->
                                <!-- desktop -->
                                <article class="w-100 d-none d-md-flex justify-content-between align-items-center">
                                    <span>
                                        {{'printing-table.file' | translate}}
                                    </span>
                                    <div class="d-flex flex-row align-items-center gap-2" *ngIf="isChosen" [matTooltip]="((currentFile.fileName.split('-')[1].length > 30 && currentFile.images.length === 1) ||
                                    (currentFile.fileName.split('-')[1].length > 22 && currentFile.images.length !== 1))
                                    ? currentFile.fileName.split('-')[1] : null">
                                        <span *ngIf="!(currentFile.images.length > 1)" class="fw-bold zx-text-pink"
                                            [class.zx-text-white]="isDarkMode">
                                            <span>
                                                {{currentFile.fileName.split('-')[1] | slice:0:30}}
                                            </span>
                                            <span class="zx-text-tiny"
                                                *ngIf="currentFile.fileName.split('-')[1].length > 30">
                                                ...
                                            </span>
                                        </span>
                                        <span *ngIf="currentFile.images.length > 1" class="fw-bold zx-text-pink"
                                            [class.zx-text-white]="isDarkMode">
                                            <span>
                                                {{currentFile.fileName.split('-')[1] | slice:0:22}}
                                            </span>
                                            <span class="zx-text-tiny"
                                                *ngIf="currentFile.fileName.split('-')[1].length > 22">
                                                ...
                                            </span>
                                        </span>
                                        <div class="d-flex align-items-center gap-1 px-2 rounded-pill zx-border-pink-light-25-pr"
                                            *ngIf="currentFile.images.length > 1">
                                            <span [class.zx-text-white]="isDarkMode" class="zx-text-tiny zx-text-pink">
                                                {{'printing-table.pages-short' | translate}}
                                            </span>
                                            <div class="d-flex align-items-center" [class.flex-row-reverse]="isRTL">
                                                <span [class.zx-text-white]="isDarkMode"
                                                    class="zx-text-tiny zx-text-pink">
                                                    {{currentImageIndex + 1}}
                                                </span>
                                                <span [class.zx-text-white]="isDarkMode"
                                                    class="zx-text-tiny zx-text-pink">
                                                    /
                                                </span>
                                                <span [class.zx-text-white]="isDarkMode"
                                                    class="zx-text-tiny zx-text-pink">
                                                    {{currentFile.images.length}}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </article>
                                <!-- mobile -->
                                <article *ngIf="currentImage"
                                    class="w-100 d-flex p-2 d-flex d-md-none align-items-center bg-white rounded-4 gap-2"
                                    [class.zx-bg-dark]="isDarkMode">
                                    <div class="zx-medium-plus-icon-size position-relative"
                                        (click)="openPreviewDialog()">
                                        <img *ngIf="printingService === 'plotter'"
                                            class="w-100 h-100 object-fit-contain rounded-3"
                                            [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                                            alt="Current File Image">
                                        <img *ngIf="printingService === 'express'"
                                            class="w-100 h-100 object-fit-contain rounded-3"
                                            [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                                            alt="Current File Image">
                                        <div matRipple
                                            class="w-100 h-100 d-flex justify-content-center align-items-center rounded-3 position-absolute zx-bg-dark-light top-0">
                                            <img class="zx-medium-icon-size svg opacity-75 p-1"
                                                src="assets/images/eye-icon.svg" alt="Full Screen Preview">
                                        </div>
                                    </div>
                                    <div class="d-flex flex-column justify-content-center gap-1 flex-grow-1 h-100">
                                        <div class="d-flex flex-row align-items-center gap-2" *ngIf="isChosen">
                                            <span *ngIf="!(currentFile.images.length > 1)" class="fw-bold zx-text-pink"
                                                [class.zx-text-white]="isDarkMode">
                                                <span>
                                                    {{currentFile.fileName.split('-')[1] | slice:0:22}}
                                                </span>
                                                <span class="zx-text-tiny"
                                                    *ngIf="currentFile.fileName.split('-')[1].length > 22">
                                                    ...
                                                </span>
                                            </span>
                                            <span [class.zx-text-white]="isDarkMode"
                                                *ngIf="currentFile.images.length > 1" class="fw-bold zx-text-pink">
                                                <span>
                                                    {{currentFile.fileName.split('-')[1] | slice:0:10}}
                                                </span>
                                                <span class="zx-text-tiny"
                                                    *ngIf="currentFile.fileName.split('-')[1].length > 10">
                                                    ...
                                                </span>
                                            </span>
                                            <div class="d-flex align-items-center gap-1 px-2 rounded-pill zx-border-pink-light-25-pr"
                                                *ngIf="currentFile.images.length > 1">
                                                <span [class.zx-text-white]="isDarkMode"
                                                    class="zx-text-tiny zx-text-pink">
                                                    {{'printing-table.pages-short' | translate}}
                                                </span>
                                                <div class="d-flex align-items-center" [class.flex-row-reverse]="isRTL">
                                                    <span [class.zx-text-white]="isDarkMode"
                                                        class="zx-text-tiny zx-text-pink">
                                                        {{currentImageIndex + 1}}
                                                    </span>
                                                    <span [class.zx-text-white]="isDarkMode"
                                                        class="zx-text-tiny zx-text-pink">/</span>
                                                    <span [class.zx-text-white]="isDarkMode"
                                                        class="zx-text-tiny zx-text-pink">
                                                        {{currentFile.images.length}}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex" (click)="openPreviewDialog()">
                                            <mat-icon style="max-width: 16px;" class="p-0 m-0"
                                                *ngIf="isRTL">keyboard_arrow_right</mat-icon>
                                            <mat-icon style="max-width: 16px;" class="p-0 m-0 zx-rtl"
                                                *ngIf="!isRTL">keyboard_arrow_left</mat-icon>
                                            <span class="zx-text-small">
                                                {{'printing-table.preview' | translate}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-center h-100">
                                        <img [matMenuTriggerFor]="mobileImageManu"
                                            class="zx-small-plus-icon-size p-1 svg"
                                            src="assets/images/three-dots-icon.svg" alt="Image Options">
                                        <mat-menu #mobileImageManu="matMenu">
                                            <button *ngIf="currentPaperType"
                                                class="d-flex align-items-center gap-1 px-2" mat-menu-item
                                                [class.zx-ltr]="!isRTL" (click)="openPreviewDialog()">
                                                <b class="zx-text-small m-0">
                                                    {{'printing-table.preview' | translate}}
                                                </b>
                                                <mat-icon class="mx-1 p-0 zx-pt-small">fullscreen</mat-icon>
                                            </button>
                                            <button *ngIf="currentFile.images.length !== 1"
                                                class="d-flex align-items-center gap-1 px-2" mat-menu-item
                                                [class.zx-ltr]="!isRTL"
                                                (click)="onDeleteFileOrImage(currentFile, currentFileIndex, currentImage, currentImageIndex)">
                                                <b class="text-red zx-text-small m-0"
                                                    [class.zx-text-white]="isDarkMode">
                                                    {{'printing-table.delete-page-for-good' | translate}}
                                                </b>
                                                <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                    [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                            </button>
                                            <button class="d-flex align-items-center gap-1 px-2" mat-menu-item
                                                [class.zx-ltr]="!isRTL"
                                                (click)="onDeleteFileOrImage(currentFile, currentFileIndex, currentImage, currentImageIndex, true)">
                                                <b class="text-red zx-text-small m-0"
                                                    [class.zx-text-white]="isDarkMode">
                                                    {{'printing-table.delete-file-for-good' | translate}}
                                                </b>
                                                <mat-icon class="text-red mx-1 p-0 zx-pt-small"
                                                    [class.zx-text-white]="isDarkMode">delete_outline</mat-icon>
                                            </button>
                                        </mat-menu>
                                    </div>
                                </article>
                                <div class="w-100 d-flex flex-column gap-3">
                                    <span [class.zx-text-white]="isDarkMode"
                                        class="w-100 zx-text-small text-center zx-text-pink"
                                        *ngIf="printingService === 'express' && currentFile?.images.length > 1">
                                        {{'printing-table.settings-are-for-file' | translate}}
                                    </span>
                                    <hr class="m-0 d-none d-md-flex">
                                </div>
                                <!-- [printing properties] paper: -->
                                <article *ngIf="!isLoading"
                                    class="w-100 d-flex justify-content-between align-items-center"
                                    [class.flex-column]="printServicePapers.length > 2 && !currentPaperType"
                                    [class.zx-min-h-50]="printServicePapers.length <= 2 || currentPaperType">
                                    <div *ngIf="currentImage" class="d-flex align-items-center gap-2 gap-md-3"
                                        [class.zx-min-h-50]="printServicePapers.length > 2 && !currentPaperType">
                                        <img *ngIf="!currentPaperType" src="/assets/images/exclamation-icon-pink.svg"
                                            class="exclamation-icon-red svg c-pointer">
                                        <span [class.zx-text-pink]="!currentPaperType"
                                            [class.zx-text-white]="isDarkMode">
                                            {{'printing-table.paper' | translate}}
                                        </span>
                                        <img #tooltipPaperTrigger src="/assets/images/i-explain-icon.svg"
                                            class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                            (mouseenter)="showPaperTooltip(tooltipPaperTrigger)"
                                            (mouseleave)="hidePaperTooltip()">
                                        <img #tooltipPaperTrigger src="/assets/images/i-explain-icon.svg"
                                            class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                            (click)="openExplainPropertyDialog('paper')">
                                    </div>
                                    <div *ngIf="!currentImage" class="d-flex align-items-center gap-2 gap-md-3"
                                        [class.zx-min-h-50]="printServicePapers.length > 2 && !currentPaperType">
                                        <span>
                                            {{'printing-table.paper' | translate}}
                                        </span>
                                        <img #tooltipPaperTrigger src="/assets/images/i-explain-icon.svg"
                                            class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                            (mouseenter)="showPaperTooltip(tooltipPaperTrigger)"
                                            (mouseleave)="hidePaperTooltip()">
                                        <img #tooltipPaperTrigger src="/assets/images/i-explain-icon.svg"
                                            class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                            (click)="openExplainPropertyDialog('paper')">
                                    </div>

                                    <!-- [printing properties] paper - express + plotter -->
                                    <div class="d-flex position-relative"
                                        [class.justify-content-center]="printServicePapers.length > 2 && !currentPaperType"
                                        [class.justify-content-end]="printServicePapers.length <= 2 || currentPaperType"
                                        [@paperAnimation]="noPaper" style="min-width: 88px;">
                                        <mat-button-toggle-group *ngIf="printingService && !isLoading"
                                            [class.zx-min-h-50]="printServicePapers.length > 2 && !currentPaperType"
                                            name="paper type" aria-label="Paper Type" [(ngModel)]="currentPaperType"
                                            (ngModelChange)="onFileSettingsChangeBySystem()">
                                            <mat-button-toggle
                                                [disabled]="!currentImage || isMaxInkLevelDisableingFile(paper, currentFile)"
                                                class="zx-rtl zx-animate-paper-normal position-relative"
                                                *ngFor="let paper of printServicePapers; let paperIndex = index"
                                                [value]="paper.paperName || paper.paperType?.paperPrinterCode"
                                                [class.zx-text-white]="isDarkMode"
                                                [class.zx-paper-red]="!currentPaperType && currentImage"
                                                [class.zx-paper-red-end]="!currentPaperType && currentImage && paperIndex === printServicePapers.length - 1 && isRTL"
                                                [class.zx-paper-red-end-not-rtl]="!currentPaperType && currentImage && paperIndex === printServicePapers.length - 1 && !isRTL"
                                                [class.zx-paper-red-single-paper]="!currentPaperType && currentImage && printServicePapers.length === 1"
                                                [class.zx-paper-red-middle-paper]="!currentPaperType && currentImage && (printServicePapers.length > 1 && paperIndex !== 0 && paperIndex !== printServicePapers.length - 1)"
                                                [class.zx-paper-red-middle-paper-not-rtl]="(!currentPaperType && currentImage && (printServicePapers.length > 1 && paperIndex !== 0 && paperIndex !== printServicePapers.length - 1)) && !isRTL"
                                                [class.choose-paper-not-selected-darkmode]="!currentPaperType && currentImage && isDarkMode"
                                                [class.zx-animate-paper-strong]="!currentPaperType && isAnimatePaperStrong"
                                                (click)="stopAnimateNoPaper()">
                                                <span>{{ 'paper-type.name-short.' + (paper.serial_name ||
                                                    paper.paperType?.paperType) | translate }}</span>
                                                <div *ngIf="isMaxInkLevelDisableingFile(paper, currentFile)"
                                                    class="w-100 h-100 position-absolute top-0 start-0 zx-z-index-1"
                                                    (click)="maxInkLevelDisableSnackBar()"></div>
                                            </mat-button-toggle>
                                        </mat-button-toggle-group>
                                        <div *ngIf="currentFile"
                                            [class.d-none]="currentPaperType || !isNoPaperAnimating"
                                            [class.d-flex]="!currentPaperType && isNoPaperAnimating"
                                            class="zx-no-paper-text-animation"
                                            [class.justify-content-center]="printServicePapers.length > 1 && !currentPaperType"
                                            [class.justify-content-end]="printServicePapers.length < 2 || currentPaperType">
                                            <b class="zx-text-small zx-text-pink no-wrap"
                                                [class.zx-text-white]="isDarkMode">
                                                <span
                                                    *ngIf="printingService === 'express' || (printingService === 'plotter' && currentFile.images && currentFile.images.length === 1)">
                                                    <span>
                                                        {{ 'printing-table.plz-choose-paper' | translate }}
                                                    </span>
                                                    <span>
                                                        <span>
                                                            {{currentFile.fileName.split('-')[1] | slice:0:8}}
                                                        </span>
                                                        <span *ngIf="currentFile.fileName.split('-')[1].length > 8">
                                                            ..
                                                        </span>
                                                    </span>
                                                </span>
                                                <span
                                                    *ngIf="printingService === 'plotter' && currentFile.images && currentFile.images.length > 1">
                                                    <span>
                                                        {{ 'printing-table.plz-choose-paper.for-page' | translate }}
                                                    </span>
                                                    <span>
                                                        {{ currentImageIndex + 1 }}
                                                    </span>
                                                    <span>
                                                        {{ 'printing-table.in-the-file' | translate }}
                                                    </span>
                                                    <span>
                                                        <span>
                                                            {{currentFile.fileName.split('-')[1] | slice:0:5}}
                                                        </span>
                                                        <span *ngIf="currentFile.fileName.split('-')[1].length > 5">
                                                            ..
                                                        </span>
                                                    </span>
                                                </span>
                                            </b>
                                        </div>
                                    </div>
                                </article>

                                <div class="animated-height"
                                    [class.zx-100-vh-animation]="currentFile && !currentPaperType"></div>

                                <!-- [printing properties] size - express: -->
                                <article
                                    *ngIf="printingService && printingService === 'express' && !realBranch.express?.properties?.enable_crop"
                                    class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center gap-2 gap-md-3">
                                        <span>
                                            {{ 'printing-table.size' | translate }}
                                        </span>
                                        <img aria-label="Fit to scale Explained" src="/assets/images/i-explain-icon.svg"
                                            class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                            (click)="openExplainPropertyDialog('resize-express')">
                                        <img aria-label="Fit to scale Explained" src="/assets/images/i-explain-icon.svg"
                                            class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                            [matTooltip]="'printing-table.explain-resize-express' | translate"
                                            [matTooltipPosition]="'below'" [dir]="tooltipDirection">
                                    </div>
                                    <div class="d-flex flex-column gap-1">
                                        <div class="d-flex justify-content-end">
                                            <mat-button-toggle-group name="fit" aria-label="fit"
                                                [disabled]="!currentPaperType" [(ngModel)]="fitValue"
                                                (ngModelChange)="onFileSettingsChangeExpress()">
                                                <mat-button-toggle [value]="false" [disabled]="isFitRequired"
                                                    [matTooltip]="getMaximalNotAvaibleTooltipText() | translate"
                                                    [dir]="tooltipDirection">
                                                    {{ 'printing-table.size-original' | translate }}
                                                    <div class="d-flex d-lg-none" *ngIf="isFitRequired"
                                                        (click)="openExplainPropertyDialog('original-not-avaible')"
                                                        style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;">
                                                    </div>
                                                </mat-button-toggle>
                                                <mat-button-toggle [value]="true">
                                                    {{ 'printing-table.size-maximal' | translate }}
                                                </mat-button-toggle>
                                            </mat-button-toggle-group>
                                        </div>
                                    </div>
                                </article>

                                <!-- [printing properties] cropRatio ("fully cover") - express: -->
                                <article
                                    *ngIf="printingService && printingService === 'express' && realBranch.express?.properties?.enable_crop"
                                    class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center gap-2 gap-md-3">
                                        <span>
                                            {{ 'printing-table.size' | translate }}
                                        </span>
                                        <img aria-label="Cover or Fit to Scale Explained"
                                            src="/assets/images/i-explain-icon.svg"
                                            class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                            (click)="openExplainPropertyDialog('cover-express')">
                                        <img aria-label="Cover or Fit to Scale Explained"
                                            src="/assets/images/i-explain-icon.svg"
                                            class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                            [matTooltip]="'printing-table.explain-cover-express' | translate"
                                            [matTooltipPosition]="'below'" [dir]="tooltipDirection">
                                    </div>
                                    <div class="d-flex flex-column gap-1">
                                        <div class="d-flex justify-content-end">
                                            <mat-button-toggle-group name="cropRatio" aria-label="cropRatio"
                                                [disabled]="!currentPaperType" [(ngModel)]="cropRatioValue"
                                                (ngModelChange)="onFileSettingsChangeExpress()">
                                                <mat-button-toggle [value]="true">
                                                    {{ 'printing-table.full-cover' | translate }}
                                                </mat-button-toggle>
                                                <mat-button-toggle [value]="false">
                                                    {{ 'printing-table.size-maximal' | translate }}
                                                </mat-button-toggle>
                                            </mat-button-toggle-group>
                                        </div>
                                    </div>
                                </article>

                                <!-- [printing properties] resize - plotter: -->
                                <article *ngIf="printingService && printingService === 'plotter'"
                                    class="zx-min-h-50 w-100 d-flex flex-column">
                                    <article class="w-100 h-100 d-flex justify-content-between align-items-center">
                                        <div class="d-flex align-items-center gap-2 gap-md-3">
                                            <span>
                                                {{ 'printing-table.resize' | translate }}
                                            </span>
                                            <img aria-label="Resize Image Explained"
                                                src="/assets/images/i-explain-icon.svg"
                                                class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                                (click)="openExplainPropertyDialog('resize')">
                                            <img aria-label="Resize Image Explained"
                                                src="/assets/images/i-explain-icon.svg"
                                                class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                                [matTooltip]="'printing-table.explain-resize' | translate"
                                                [matTooltipPosition]="'below'" [dir]="tooltipDirection">
                                            <div class="d-flex flex-column align-items-start gap-1">
                                                <!-- DPI -->
                                                <span
                                                    class="zx-text-tiny text-center d-flex flex-column align-items-start gap-1">
                                                    <span *ngIf="currentImage"
                                                        class="d-flex align-items-end zx-text-small"
                                                        [class.flex-row-reverse]="isRTL">
                                                        <span>
                                                            {{ roundDownOneDecimal(currentImage.scale) }}
                                                        </span>
                                                        <span>%</span>
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                        <button type="button" mat-flat-button [disabled]="!currentImage ||
                                                  !currentPaperType" (click)="openResizeDialog(false)"
                                            class="rounded-pill zx-small-btn zx-border-gray">
                                            {{ 'printing-table.resize-edit' | translate }}
                                        </button>
                                    </article>
                                    <!-- DPI calc -->
                                    <article class="d-flex w-100 align-items-center zx-text-tiny pt-1">
                                        <span class="d-flex align-items-center justify-content-end"
                                            [class.flex-row-reverse]="isRTL"
                                            *ngIf="currentImage && currentImage.origImageDPI && currentImage.origImageDPI > 0">
                                            <span class="d-flex align-items-end" [class.flex-row-reverse]="isRTL">
                                                <span>
                                                    {{ roundDownTowDecimal(currentImage.origImageDPI) }}
                                                </span>
                                                <span class="zx-text-tiny-tiny">
                                                    DPI
                                                </span>
                                            </span>
                                            <span class="d-flex align-items-center" [class.flex-row-reverse]="isRTL"
                                                *ngIf="currentImage.scale && currentImage.scale !== 1">
                                                <span>×</span>
                                                <span class="d-flex align-items-end" [class.flex-row-reverse]="isRTL">
                                                    <span>
                                                        {{roundDownOneDecimal(1 / currentImage.scale)}}
                                                    </span>
                                                    <span>%</span>
                                                </span>
                                                <span>=</span>
                                                <span class="d-flex align-items-end" [class.flex-row-reverse]="isRTL">
                                                    <span>
                                                        {{roundDownTowDecimal((1 / currentImage.scale) *
                                                        currentImage.origImageDPI)}}
                                                    </span>
                                                    <span class="zx-text-tiny-tiny">
                                                        DPI
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                        <span class="px-1" *ngIf="!(!currentImage?.origImageDPI ||
                                        (1 / currentImage.scale) * currentImage.origImageDPI === 0)">
                                            -
                                        </span>
                                        <!-- quality -->
                                        <b *ngIf="currentImage" class="zx-text-tiny-tiny text-center">
                                            <span class="text-orange" [class.zx-text-white]="isDarkMode" *ngIf="!currentImage.origImageDPI ||
                                             (1 / currentImage.scale) * currentImage.origImageDPI === 0">
                                                {{ 'printing-table.rank-undefined' | translate }}
                                            </span>
                                            <span class="text-green" [class.zx-text-white]="isDarkMode" *ngIf="currentImage.origImageDPI &&
                                             (1 / currentImage.scale) * currentImage.origImageDPI > 600">
                                                {{ 'printing-table.rank-too-high' | translate }}
                                            </span>
                                            <span class="text-green" [class.zx-text-white]="isDarkMode" *ngIf="currentImage.origImageDPI &&
                                              (1 / currentImage.scale) * currentImage.origImageDPI > 300 &&
                                             (1 / currentImage.scale) * currentImage.origImageDPI <= 600">
                                                {{ 'printing-table.rank-high' | translate }}
                                            </span>
                                            <span class="text-green" [class.zx-text-white]="isDarkMode" *ngIf="currentImage.origImageDPI &&
                                             (1 / currentImage.scale) * currentImage.origImageDPI === 300">
                                                {{ 'printing-table.rank-exact' | translate }}
                                            </span>
                                            <span class="text-orange" [class.zx-text-white]="isDarkMode" *ngIf="currentImage.origImageDPI &&
                                             (1 / currentImage.scale) * currentImage.origImageDPI >= 150 &&
                                            (1 / currentImage.scale) * currentImage.origImageDPI < 300">
                                                {{ 'printing-table.rank-medium' | translate }}
                                            </span>
                                            <span class="text-red" [class.zx-text-white]="isDarkMode" *ngIf="currentImage.origImageDPI &&
                                             (1 / currentImage.scale) * currentImage.origImageDPI >= 72 &&
                                            (1 / currentImage.scale) * currentImage.origImageDPI < 150">
                                                {{ 'printing-table.rank-low' | translate }}
                                            </span>
                                            <span class="text-red" [class.zx-text-white]="isDarkMode" *ngIf="currentImage.origImageDPI &&
                                             (1 / currentImage.scale) * currentImage.origImageDPI < 72">
                                                {{ 'printing-table.rank-v-low' | translate }}
                                            </span>
                                        </b>
                                    </article>
                                </article>
                                <!-- [printing properties] color: -->
                                <article class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <span>
                                        {{ 'printing-table.color' | translate }}
                                    </span>
                                    <mat-button-toggle-group name="bw" aria-label="bw" [(ngModel)]="bwValue"
                                        [disabled]="!currentPaperType" (ngModelChange)="onFileSettingsChangeBySystem()">
                                        <mat-button-toggle [value]="false">
                                            {{ 'printing-table.color-color' | translate }}
                                        </mat-button-toggle>
                                        <mat-button-toggle [value]="true">
                                            {{ 'printing-table.color-bandw' | translate }}
                                        </mat-button-toggle>
                                    </mat-button-toggle-group>
                                </article>
                                <!-- [printing properties] sided -->
                                <article *ngIf="printingService === 'express' && !isImagesPrinter()"
                                    class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <span>
                                        {{ 'printing-table.sides' | translate }}
                                    </span>
                                    <mat-button-toggle-group name="doubleSided" aria-label="doubleSided"
                                        [disabled]="!currentPaperType" [(ngModel)]="doubleSidedValue"
                                        (ngModelChange)="onFileSettingsChangeExpress()">
                                        <mat-button-toggle [value]="false">
                                            {{ 'printing-table.sides-one' | translate }}
                                        </mat-button-toggle>
                                        <mat-button-toggle [value]="true"
                                            [disabled]="currentFile?.images.length === 1 || isDubbleDisabledByInkLevel(currentFile) || isDubbleDisabledByPaper(selectedPaper)"
                                            [matTooltip]="getSidedNotAvaibleTooltipText() | translate"
                                            [dir]="tooltipDirection">
                                            {{ 'printing-table.sides-two' | translate }}
                                            <div class="d-flex d-lg-none"
                                                *ngIf="currentFile?.images.length === 1 && currentPaperType && currentImage"
                                                (click)="openExplainPropertyDialog('sided-not-avaible-one-page')"
                                                style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;"></div>
                                            <div class="d-flex d-lg-none"
                                                *ngIf="currentFile?.images.length > 1 && isDubbleDisabledByInkLevel(currentFile) && !isDubbleDisabledByPaper(selectedPaper) && currentPaperType && currentImage"
                                                (click)="openExplainPropertyDialog('sided-not-avaible-ink-level')"
                                                style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;"></div>
                                            <div class="d-flex d-lg-none"
                                                *ngIf="currentFile?.images.length > 1 && !isDubbleDisabledByInkLevel(currentFile) && isDubbleDisabledByPaper(selectedPaper) && currentPaperType && currentImage"
                                                (click)="openExplainPropertyDialog('sided-not-avaible-paper-with-no-dubble')"
                                                style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;"></div>
                                        </mat-button-toggle>
                                    </mat-button-toggle-group>
                                </article>
                                <!-- [printing properties] borders - plotter: -->
                                <article *ngIf="printingService && printingService === 'plotter'"
                                    class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center gap-2 gap-md-3">
                                        <span>
                                            {{ 'printing-table.borders' | translate }}
                                        </span>
                                        <img aria-label="Add Borders To Image Explained"
                                            src="/assets/images/i-explain-icon.svg"
                                            class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                            (click)="openExplainPropertyDialog('border')">
                                        <img aria-label="Add Borders To Image Explained"
                                            src="/assets/images/i-explain-icon.svg"
                                            class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                            [matTooltip]="'printing-table.explain-border' | translate"
                                            [matTooltipPosition]="'below'" [dir]="tooltipDirection">
                                    </div>
                                    <mat-slide-toggle [(ngModel)]="cmFromTopValue"
                                        [disabled]="!currentImage || !currentPaperType"
                                        (ngModelChange)="onFileSettingsChange()"></mat-slide-toggle>
                                </article>
                                <!-- [printing properties] center - plotter: -->
                                <article *ngIf="printingService && printingService === 'plotter'"
                                    class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center gap-2 gap-md-3">
                                        <span>
                                            {{ 'printing-table.center' | translate }}
                                        </span>
                                        <img aria-label="Center Image Explained" src="/assets/images/i-explain-icon.svg"
                                            class="d-flex d-lg-none i-explain-icon svg c-pointer"
                                            (click)="openExplainPropertyDialog('center')">
                                        <img aria-label="Center Image Explained" src="/assets/images/i-explain-icon.svg"
                                            class="d-none d-lg-flex i-explain-icon svg c-pointer"
                                            [matTooltip]="'printing-table.explain-center' | translate"
                                            [matTooltipPosition]="'below'" [dir]="tooltipDirection">
                                    </div>
                                    <mat-slide-toggle [(ngModel)]="centerValue"
                                        [disabled]="!currentImage || !currentPaperType"
                                        (ngModelChange)="onFileSettingsChange()"></mat-slide-toggle>
                                </article>
                                <!-- [printing properties] copies: -->
                                <article class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <span>
                                        {{ 'printing-table.copies' | translate }}
                                    </span>
                                    <div *ngIf="currentImage" class="d-flex align-items-center gap-1">
                                        <button mat-icon-button (click)="changeNumberOfCopies('remove')"
                                            [disabled]="!currentPaperType || numOfCopies <= 1">
                                            <mat-icon>remove</mat-icon>
                                        </button>
                                        <input class="zx-copies-input" [disabled]="!currentPaperType"
                                            [class.zx-text-white-bg-transparent]="isDarkMode" [(ngModel)]="numOfCopies"
                                            (ngModelChange)="onFileSettingsChangeBySystem()" matInput type="number"
                                            min="1">
                                        <button mat-icon-button (click)="changeNumberOfCopies('add')"
                                            [disabled]="!currentPaperType">
                                            <mat-icon>add</mat-icon>
                                        </button>
                                    </div>
                                    <div *ngIf="!currentImage" class="d-flex align-items-center gap-1">
                                        <button mat-icon-button [disabled]="true">
                                            <mat-icon>remove</mat-icon>
                                        </button>
                                        <input class="zx-copies-input" value=""
                                            [class.zx-text-white-bg-transparent]="isDarkMode" matInput type="number"
                                            [disabled]="true">
                                        <button mat-icon-button [disabled]="true">
                                            <mat-icon>add</mat-icon>
                                        </button>
                                    </div>
                                </article>
                                <!-- [printing properties] apply to all [desktop]: -->
                                <article class="d-flex zx-min-h-50 w-100 justify-content-between align-items-center">
                                    <button type="button" mat-flat-button
                                        [disabled]="!currentImage ||
                                                    !currentPaperType || (files.length === 1 && currentFile.images.length === 1)"
                                        (click)="onApplyToAll(currentPaperWidth, currentPrintSettings, selectedPaper)"
                                        class="w-100 rounded-pill zx-small-btn zx-border-gray">
                                        {{ 'printing-table.resize-applytoall' | translate }}
                                    </button>
                                </article>
                                <!-- [printing properties] dimensions: -->
                                <article class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <span>
                                        {{ 'printing-table.dimensions' | translate }}
                                    </span>
                                    <div *ngIf="currentImage" class="d-flex align-items-center gap-2">
                                        <!-- original size (parenthesis) -->
                                        <div class="d-flex flex-column align-items-center px-2 zx-border-parenthesis"
                                            *ngIf="
                                                                        (((currentImage.origImageHeight !== currentImage.imageHeight) ||
                                                                        (currentImage.origImageWidth !== currentImage.imageWidth)) &&
                                                                        (printingService === 'plotter')) ||
                                                                        (printingService === 'express' && fitValue)">
                                            <span class=" zx-text-tiny-tiny">
                                                <span>
                                                    {{ 'printing-table.original-dims' | translate }}
                                                </span>
                                                <span>:</span>
                                            </span>
                                            <span class="zx-text-tiny-tiny">
                                                <span>
                                                    {{ getOriginalWidth() }}
                                                </span>
                                                <span>
                                                    ×
                                                </span>
                                                <span>
                                                    {{ getOriginalHeight() }}
                                                </span>
                                                <span>
                                                    {{ 'printing-table.dimensions-cm' | translate }}
                                                </span>
                                            </span>
                                        </div>
                                        <!-- actual size (big text) -->
                                        <div class="d-flex align-items-center gap-2">
                                            <div class="d-flex align-items-center gap-1">
                                                <span>
                                                    {{ getActualWidth() }}
                                                </span>
                                                <span>
                                                    ×
                                                </span>
                                                <span>
                                                    {{ getActualHeight() }}
                                                </span>
                                                <span>
                                                    {{ 'printing-table.dimensions-cm' | translate }}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="!currentImage" class="d-flex align-items-center gap-1 opacity-50">
                                        <span>-</span>
                                        <span>×</span>
                                        <span>-</span>
                                        <span>
                                            {{ 'printing-table.dimensions-cm' | translate }}
                                        </span>
                                    </div>
                                </article>
                                <!-- [printing properties] price per file: -->
                                <article class="zx-min-h-50 w-100 d-flex justify-content-between align-items-center">
                                    <span>
                                        {{ 'printing-table.price-per-file' | translate }}
                                    </span>
                                    <!-- [plotter] -->
                                    <div *ngIf="printingService === 'plotter'" class="d-flex align-items-center gap-1"
                                        [class.opacity-50]="!currentImage">
                                        <span *ngIf="!currentImage?.price || currentImage?.price === 0">
                                            -
                                        </span>
                                        <span *ngIf="currentImage?.price && currentImage?.price > 0 && numOfCopies > 1">
                                            <span>
                                                {{numOfCopies}}
                                            </span>
                                            <span class="zx-text-tiny-tiny">
                                                {{ 'printing-table.copies-short' | translate }}
                                            </span>
                                            <span>×</span>
                                            <span>
                                                {{
                                                roundDownTowDecimal(
                                                currentImage.price
                                                )
                                                }}
                                            </span>
                                            <span class="zx-text-tiny-tiny">
                                                {{ 'printing-table.nis' | translate }}
                                            </span>
                                            <span>=</span>
                                        </span>
                                        <span *ngIf="numOfCopies === 1">
                                            {{
                                            roundDownTowDecimal(
                                            currentImage.price
                                            )
                                            }}
                                        </span>
                                        <span *ngIf="numOfCopies > 1">
                                            {{
                                            roundDownTowDecimal(
                                            currentImage.price *
                                            numOfCopies
                                            )
                                            }}
                                        </span>
                                        <span class="zx-text-small">
                                            {{ 'printing-table.nis' | translate }}
                                        </span>
                                    </div>
                                    <!-- [express] -->
                                    <div *ngIf="printingService === 'express'" class="d-flex align-items-center gap-1"
                                        [class.opacity-50]="!currentImage">
                                        <span>
                                            <span
                                                *ngIf="currentPrintSettings && currentFile?.images && currentFile.images.length > 0">
                                                <span *ngIf="currentFile.images.length > 1 || numOfCopies > 1">
                                                    <span *ngIf="currentFile.images.length > 1">
                                                        <span>
                                                            {{currentFile.images.length}}
                                                        </span>
                                                        <span class="zx-text-tiny-tiny">
                                                            {{ 'printing-table.pages-short' | translate
                                                            }}
                                                        </span>
                                                        <span>×</span>
                                                    </span>
                                                    <span *ngIf="numOfCopies > 1">
                                                        <span>
                                                            {{numOfCopies}}
                                                        </span>
                                                        <span class="zx-text-tiny-tiny">
                                                            {{ 'printing-table.copies-short' | translate
                                                            }}
                                                        </span>
                                                        <span>×</span>
                                                    </span>
                                                    <span
                                                        *ngIf="currentPrintSettings && currentFile.images.length > 0 && getImagePrice$(currentPrintSettings) | async as imagePrice">
                                                        {{ roundDownTowDecimal(
                                                        imagePrice) }}
                                                    </span>
                                                    <span class="zx-text-tiny-tiny">
                                                        {{ 'printing-table.nis' | translate
                                                        }}
                                                    </span>
                                                    <span>=</span>
                                                </span>
                                                <span
                                                    *ngIf="!currentFile?.images || !(currentFile?.images.length > 0)  || !currentPaperType">
                                                    -
                                                </span>
                                            </span>
                                            <span
                                                *ngIf="currentPrintSettings && currentFile?.images.length > 0 && getImagePrice$(currentPrintSettings) | async as imagePrice">
                                                {{ roundDownTowDecimal(currentFile.images.length *
                                                numOfCopies *
                                                imagePrice) }}
                                            </span>
                                            <span class="zx-text-small">
                                                {{ 'printing-table.nis' | translate
                                                }}
                                            </span>
                                        </span>
                                    </div>
                                </article>

                            </div>
                        </div>
                    </div>

                </article>
            </article>
            <!-- total price [DESKTOP] -->
            <div class="w-100 shadow-85-top-strong px-3 pt-2 zx-z-index-1 bg-white d-none d-md-flex justify-content-between align-items-center"
                [class.zx-bg-dark]="isDarkMode">
                <span class="text-green d-flex align-items-center gap-1">

                    <span class="zx-text-tiny d-flex align-items-center gap-1"
                        [class.flex-column]="proccessingFiles.length > 0 || (user?.discount > 0 && totalOrderPrice !== totalOrderPriceBeforeDiscount)"
                        [class.align-items-start]="proccessingFiles.length > 0 || (user?.discount > 0 && totalOrderPrice !== totalOrderPriceBeforeDiscount)"
                        [class.align-items-center]="proccessingFiles.length === 0">
                        <!-- title -->
                        <b class="zx-text-small">
                            {{ 'printing-table.total-price' | translate }}
                        </b>
                        <span *ngIf="!isLoading && files.length > 0" class="d-flex align-items-center gap-1">
                            <!-- files -->
                            <span *ngIf="files.length > proccessingFiles.length">
                                <span *ngIf="proccessingFiles.length === 0">(</span>
                                <span *ngIf="files.length - proccessingFiles.length > 1">
                                    <b>
                                        {{ files.length - proccessingFiles.length }}
                                    </b>
                                    <b class="zx-text-tiny">
                                        {{ 'printing-table.files' | translate }}
                                    </b>
                                </span>
                                <b class="zx-text-tiny" *ngIf="files.length - proccessingFiles.length === 1">
                                    {{ 'printing-table.one-file' | translate }}
                                </b>
                                <span *ngIf="proccessingFiles.length === 0">)</span>
                            </span>
                            <!-- , -->
                            <span *ngIf="files.length > proccessingFiles.length && proccessingFiles.length > 0">
                                <span>,</span>
                                <span class="zx-100-opp">-</span>
                            </span>
                            <!-- proccessing files -->
                            <span class="opacity-trans" *ngIf="proccessingFiles.length > 0">
                                <b *ngIf="proccessingFiles.length > 1">
                                    {{ proccessingFiles.length }}
                                </b>
                                <b *ngIf="proccessingFiles.length > 1" class="zx-text-tiny">
                                    {{ 'printing-table.files' | translate }}
                                </b>
                                <b *ngIf="proccessingFiles.length === 1" class="zx-text-tiny">
                                    {{ 'printing-table.one-file' | translate }}
                                </b>
                                <b class="zx-text-tiny">
                                    {{ 'printing-table.still-proccessing' | translate }}
                                </b>
                            </span>
                        </span>
                    </span>
                </span>

                <!-- pricing line DESKTOP -->
                <span class="text-green" [class.text-start]="isRTL" [class.text-end]="!isRTL" style="max-width: 380px;">
                    <!-- before discount price -->
                    <span class="opacity-75 zx-text-tiny"
                        *ngIf="!((totalOrderPrice - totalOrderPriceBeforeDiscount < 0.05) && (totalOrderPrice - totalOrderPriceBeforeDiscount > -0.05)) && totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0 && !isManiger()">
                        <span class="strikethrough">
                            <span>
                                {{roundDownTowDecimal(totalOrderPriceBeforeDiscount)}}
                            </span>
                            <span>
                                {{ 'printing-table.nis' | translate }}
                            </span>
                        </span>
                        <span class="zx-100-opacity">.</span>
                        <span class="zx-text-tiny-tiny zx-text-pink" [class.zx-text-white]="isDarkMode">
                            <b>
                                ·
                            </b>
                            <span>
                                {{ "my-orders.amount-discount" | translate }}
                            </span>
                            <b>
                                ·
                            </b>
                        </span>
                        <span class="zx-100-opacity">.</span>
                    </span>
                    <!-- total price if have points -->
                    <span class="italic opacity-75 zx-text-tiny" *ngIf="((user?.points && user.points >= 0.1) || user?.discount > 0) &&
                        (totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0) && !isManiger()">
                        <span class="zx-100-opacity">.</span>
                        <!-- there is user discount -->
                        <span *ngIf="user?.discount > 0" [class.zx-ltr]="!isRTL">
                            <span class="strikethrough">
                                <span>
                                    {{ roundDownTowDecimal(totalOrderPrice)}}
                                </span>
                                <span>
                                    {{ 'printing-table.nis' | translate }}
                                </span>
                            </span>
                            <span class="zx-100-opacity">.</span>
                            <span class="zx-text-tiny-tiny zx-text-pink" [class.zx-text-white]="isDarkMode">
                                <b>
                                    ·
                                </b>
                                <span *ngIf="isRTL">
                                    %
                                </span>
                                <span>
                                    {{roundDownTowDecimal(user.discount)}}
                                </span>
                                <span *ngIf="!isRTL">
                                    %
                                </span>
                                <span>
                                    {{ "my-orders.discount" | translate }}
                                </span>
                                <b>
                                    ·
                                </b>
                            </span>
                            <span class="zx-100-opacity">.</span>
                        </span>
                        <span
                            *ngIf="user?.points && user.points >= 0.1 && totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0">
                            <b>
                                {{roundDownTowDecimal(totalOrderPrice * ((100 - user.discount) / 100))}}
                            </b>
                            <b class="zx-text-tiny-tiny">
                                {{ 'printing-table.nis' | translate }}
                            </b>
                            <span class="zx-100-opacity">.</span>
                            <b>=</b>
                        </span>
                        <span class="zx-100-opacity">-</span>
                    </span>

                    <!-- if SU -->
                    <span class="zx-text-tiny-tiny zx-text-pink" *ngIf="user && user.roles && isManiger()"
                        [class.zx-text-white]="isDarkMode">
                        <b>
                            ·
                        </b>
                        <span>
                            {{ "my-orders.manager-order" | translate }}
                        </span>
                        <b>
                            ·
                        </b>
                        <span class="zx-100-opacity">_</span>
                    </span>

                    <!-- FINAL PRICE -->
                    <!-- no user discount -->
                    <span *ngIf="user && (!user.discount || user?.discount === 0)">
                        <!-- real price (after discount) -->
                        <span *ngIf="totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0">
                            <b>
                                {{
                                totalOrderPrice > user.points ?roundDownTowDecimal( totalOrderPrice - user.points) : 0
                                }}
                            </b>
                            <b class="zx-text-tiny">
                                {{ 'printing-table.nis' | translate }}
                            </b>
                        </span>
                        <!-- if have points -->
                        <span *ngIf="totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0 && user.points >= 0.1">
                            <span class="zx-text-tiny">+</span>
                            <b>
                                {{totalOrderPrice > user.points ? roundDownTowDecimal(user.points) :
                                roundDownTowDecimal(totalOrderPrice)}}
                            </b>
                            <b class="zx-text-tiny">
                                {{ 'printing-table.points-short' | translate }}
                            </b>
                        </span>
                    </span>
                    <!-- there is user discount -->
                    <span *ngIf="user?.discount > 0">
                        <!-- real price (after discount) -->
                        <span *ngIf="totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0">
                            <b>
                                {{
                                totalOrderPrice * (1 - (user.discount / 100)) > user.points ?
                                roundDownTowDecimal( (totalOrderPrice * (1 - (user.discount / 100))) - user.points) :
                                0
                                }}
                            </b>
                            <b class="zx-text-tiny">
                                {{ 'printing-table.nis' | translate }}
                            </b>
                        </span>
                        <!-- if have points -->
                        <span *ngIf="totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0 && user.points >= 0.1">
                            <span class="zx-text-tiny">+</span>
                            <b>
                                {{
                                totalOrderPrice * (1 - (user.discount / 100)) > user.points ?
                                roundDownTowDecimal(user.points) :
                                roundDownTowDecimal(totalOrderPrice * (1 - (user.discount / 100)))
                                }}
                            </b>
                            <b class="zx-text-tiny">
                                {{ 'printing-table.points-short' | translate }}
                            </b>
                        </span>
                    </span>

                    <!-- empty -->
                    <span class="zx-text-small" *ngIf="totalOrderPrice === 0 || totalOrderPriceBeforeDiscount === 0">
                        <span>-</span>
                        <span>
                            {{ 'printing-table.nis' | translate }}
                        </span>
                    </span>

                </span>
            </div>
            <!-- main action btn -->
            <div class="w-100 p-2 zx-z-index-1 bg-white" [class.zx-bg-dark]="isDarkMode">
                <!-- uplaod file [btn main action btn] -->
                <button
                    *ngIf="!(files.length !== 0 && files.length !== proccessingFiles.length) && (!branchHasFixProducts() || (branchHasFixProducts() && totalOrderdFixProducts() === 0))"
                    [disabled]="isLoading" color="primary" type="button" mat-raised-button
                    class="text-white rounded-pill w-100 zx-small-btn" ng2FileDrop [uploader]="uploader"
                    (fileOver)="fileOverBase($event)" (onFileDrop)="onFileDrop($event)"
                    [ngClass]="{'file-drop-hover': hasBaseDropZoneOver}" (click)="fileInput.click()">
                    <b *ngIf="proccessingFiles.length === 0">
                        {{ 'printing-table.upload-file-first' | translate }}
                    </b>
                    <b *ngIf="proccessingFiles.length > 0">
                        {{ 'printing-table.upload-file-next' | translate }}
                    </b>
                    <input type="file" ng2FileSelect [uploader]="uploader" #fileInput hidden multiple />
                </button>
                <!-- next image [btn main action btn] -->
                <button *ngIf="!isAllFilesHavePaper && files.length !== 0 && files.length !== proccessingFiles.length"
                    [disabled]="isLoading ||
                    (printingService === 'plotter' && !currentImage?.printSettings?.paperType) ||
                    (printingService === 'express' && !currentFile?.printSettings?.paperType)" color="primary"
                    type="button" mat-raised-button (click)="nextImageToSetPaper()"
                    class="text-white rounded-pill w-100 zx-small-btn" [@mainBtnAnimation]="mainBtn"
                    [class.opacity-50]="isDarkMode">
                    <b>
                        {{ 'printing-table.next-file' | translate }}
                    </b>
                </button>
                <!-- send to print [btn main action btn] -->
                <button
                    *ngIf="(isAllFilesHavePaper && files.length !== 0 && files.length !== proccessingFiles.length) || (((isAllFilesHavePaper && files.length > 0) || files.length === 0) && branchHasFixProducts() && totalOrderdFixProducts() > 0)"
                    [@mainBtnAnimation]="mainBtn" [disabled]="isLoading" color="primary" type="button" mat-raised-button
                    (click)="sendToPrint()" class="text-white rounded-pill w-100 zx-small-btn">
                    <span>
                        <b class="d-none d-sm-inline">
                            {{ 'printing-table.to-order-summery' | translate }}
                        </b>
                        <b class="d-sm-none">
                            {{ 'choose-system.continue' | translate }}
                        </b>
                    </span>
                    <!-- prising [MOBILE] -->
                    <span class="d-md-none"
                        *ngIf="totalOrderPrice && totalOrderPriceBeforeDiscount && totalOrderPrice !== 0 && totalOrderPriceBeforeDiscount !== 0">
                        <span class="zx-100-opacity">__</span>
                        <span>(</span>
                        <!-- before discount price -->
                        <span class="opacity-75 zx-text-tiny" *ngIf="(!((totalOrderPrice - totalOrderPriceBeforeDiscount < 0.05) && (totalOrderPrice - totalOrderPriceBeforeDiscount > -0.05))
                                                    && totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0) ||
                                                    (user?.discount && user?.discount > 0)">
                            <span class="strikethrough">
                                {{ roundDownTowDecimal(totalOrderPriceBeforeDiscount) }}
                            </span>
                            <span class="zx-100-opacity">-</span>
                        </span>
                        <!-- real price (after discount) -->
                        <span *ngIf="totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0">
                            <!-- no user discount -->
                            <span *ngIf="!user || !user.discount || user?.discount === 0">
                                {{
                                totalOrderPrice > user?.points ?
                                roundDownTowDecimal( totalOrderPrice - user?.points) :
                                0
                                }}
                            </span>
                            <!-- there is user discount -->
                            <span *ngIf="user?.discount && user?.discount > 0">
                                {{
                                totalOrderPrice > user?.points ?
                                roundDownTowDecimal((totalOrderPrice * (1 - (user?.discount / 100))) - user.points) :
                                0
                                }}
                            </span>
                        </span>
                        <span class="zx-text-tiny-tiny">
                            {{ 'printing-table.nis' | translate }}
                        </span>
                        <!-- if have points -->
                        <span *ngIf="totalOrderPrice > 0 && totalOrderPriceBeforeDiscount > 0 && (user?.points >= 0.1)">
                            <span class="zx-text-tiny">+</span>
                            <!-- no user discount -->
                            <span *ngIf="!user?.discount || user?.discount === 0">
                                {{
                                totalOrderPrice > user.points ? roundDownTowDecimal(user.points) :
                                roundDownTowDecimal(totalOrderPrice)
                                }}
                            </span>
                            <!-- there is user discount -->
                            <span *ngIf="user?.discount && user?.discount > 0">
                                {{
                                totalOrderPrice * (1 - (user.discount / 100)) > user.points ?
                                roundDownTowDecimal(user.points) :
                                roundDownTowDecimal(totalOrderPrice * (1 - (user.discount / 100)))
                                }}
                            </span>
                            <span class="zx-text-tiny-tiny">
                                {{ 'printing-table.points-short' | translate }}
                            </span>
                        </span>
                        <span>)</span>
                        <!-- proccessing files -->
                        <span class="zx-text-tiny" *ngIf="proccessingFiles.length > 0">
                            <span class="zx-100-opacity">__</span>
                            <span *ngIf="proccessingFiles.length > 1">
                                {{ proccessingFiles.length }}
                            </span>
                            <span *ngIf="proccessingFiles.length > 1">
                                {{ 'printing-table.files' | translate }}
                            </span>
                            <span *ngIf="proccessingFiles.length === 1">
                                {{ 'printing-table.one-file' | translate }}
                            </span>
                            <span>
                                {{ 'printing-table.still-proccessing.short' | translate }}
                            </span>
                        </span>
                    </span>
                    <!-- // prising [MOBILE] -->
                </button>
            </div>
        </div>

        <!-- IMAGE PREVIEW ********************************************************************* -->
        <!-- image preview - main container -->
        <article class="d-none d-md-flex flex-grow-1 h-100 zx-p-preview-container overflow-hidden position-relative"
            [class.bg-white]="!isDarkMode">
            <div id="preview-container" class="d-flex w-100 h-100 justify-content-center align-items-center"
                [class.zx-100-opacity]="isLoadingPreview || !currentImage || !currentPaperType">
                <div id="preview-paper"
                    class="bg-white shadow-85-strong d-flex flex-column justify-content-center position-relative"
                    [class.align-items-center]="centerValue || printingService === 'express'"
                    [class.align-items-end]="!centerValue && printingService !== 'express'"
                    [class.zx-canvas-dark]="isDarkMode">
                    <div id="preview-image-container" class="position-absolute">
                        <div *ngIf="currentImage && currentImage.thumbnailPath && isCurrentrotated"
                            class="preview-image-inner"
                            [class.preview-image-inner-centered]="centerValue || printingService === 'express'"
                            [class.preview-image-inner-not-centered]="!centerValue && isRTL && printingService === 'plotter'"
                            [class.preview-image-inner-not-centered-not-rtl]="!centerValue && !isRTL && printingService === 'plotter'">
                            <!-- [plotter] - previev image -->
                            <img *ngIf="printingService === 'plotter' && currentImage && currentImage.thumbnailPath"
                                class="zx-preview-img zx-preview-img-rotated" [class.zx-c-and-w-img]="bwValue"
                                [class.zx-preview-img-rotated-not-rtl]="!isRTL && !centerValue"
                                [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                                alt="Current File Image">
                            <!-- [express] - previev image -->
                            <img *ngIf="printingService === 'express' && currentImage && currentImage.thumbnailPath"
                                class="zx-preview-img zx-preview-img-rotated" [class.zx-c-and-w-img]="bwValue"
                                [class.zx-preview-img-rotated-not-rtl]="!isRTL && !centerValue"
                                [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                                alt="Current File Image">
                        </div>
                        <!-- [plotter] - previev image -->
                        <img *ngIf="printingService === 'plotter' && currentImage && currentImage.thumbnailPath && !isCurrentrotated"
                            class="zx-preview-img" [class.zx-c-and-w-img]="bwValue"
                            [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                            alt="Current File Image">
                        <!-- [express] - previev image -->
                        <img *ngIf="printingService === 'express' && currentImage && currentImage.thumbnailPath && !isCurrentrotated"
                            class="zx-preview-img" [class.zx-c-and-w-img]="bwValue"
                            [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                            alt="Current File Image">
                    </div>

                    <!-- FIXXX -->
                    <article [class.zx-100-opacity]="isLoadingPreview || !currentImage || !currentPaperType"
                        class="dimm-container-up">
                        <!-- upper Dim 1 -->
                        <div [class.zx-100-opacity]="roundDownTowDecimal((currentPaperWidth - currentImageWidth) / 2) < 0.3 && printingService === 'express'"
                            id="upperDim1" class="h-100 d-flex flex-column">
                            <div class="w-100 d-flex flex-column align-items-center">
                                <div class="position-relative">
                                    <div class="dimm-number-up" [class.dimm-number-up-not-rtl]="!isRTL">
                                        <span *ngIf="centerValue || printingService === 'express'" class="zx-text-tiny">
                                            {{ roundDownTowDecimal((currentPaperWidth - currentImageWidth) / 2) }}
                                        </span>
                                        <span *ngIf="!centerValue && printingService === 'plotter'"
                                            class="zx-text-tiny">
                                            {{ roundDownTowDecimal(currentPaperWidth - currentImageWidth) }}
                                        </span>
                                        <span class="zx-text-tiny-tiny">
                                            {{ "printing-table.dimensions-cm" | translate }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="dimm-container-up-inner">
                                <div class="dimm-up-lines">
                                    <div class="dimm-up-line"></div>
                                </div>
                            </div>
                        </div>
                        <!-- upper Dim 2 -->
                        <div id="upperDim2" class="h-100 d-flex flex-column">
                            <div class="w-100 d-flex flex-column align-items-center">
                                <div class="position-relative">
                                    <div class="dimm-number-up" [class.dimm-number-up-not-rtl]="!isRTL">
                                        <span class="zx-text-tiny">
                                            {{ roundDownTowDecimal(currentImageWidth) }}
                                        </span>
                                        <span class="zx-text-tiny-tiny">
                                            {{ "printing-table.dimensions-cm" | translate }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="dimm-container-up-inner">
                                <div class="dimm-up-lines">
                                    <div class="dimm-up-line"></div>
                                </div>
                            </div>
                        </div>
                        <!-- upper Dim 3 -->
                        <div [class.zx-100-opacity]="roundDownTowDecimal((currentPaperWidth - currentImageWidth) / 2) < 0.3 ||
                                                     (printingService === 'plotter' && !centerValue)" id="upperDim3"
                            class="h-100 d-flex flex-column">
                            <div class="w-100 d-flex flex-column align-items-center">
                                <div class="position-relative">
                                    <div class="dimm-number-up" [class.dimm-number-up-not-rtl]="!isRTL">
                                        <span class="zx-text-tiny">
                                            {{ roundDownTowDecimal((currentPaperWidth - currentImageWidth) / 2) }}
                                        </span>
                                        <span class="zx-text-tiny-tiny">
                                            {{ "printing-table.dimensions-cm" | translate }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="dimm-container-up-inner">
                                <div class="dimm-up-lines">
                                    <div class="dimm-up-line"></div>
                                </div>
                            </div>
                        </div>
                    </article>
                    <!-- plotter -->
                    <article class="dimm-container-side" *ngIf="printingService === 'plotter'"
                        [class.zx-100-opacity]="isLoadingPreview || !currentImage || !currentPaperType"
                        [class.dimm-container-side-not-rtl]="!isRTL">
                        <div class="h-100 d-flex align-items-center">
                            <div class="position-relative">
                                <div class="dimm-number-side" [class.dimm-number-side-not-rtl]="!isRTL"
                                    [class.dimm-number-side-not-rtl-height]="!isRTL && currentImageHeight > currentImageWidth">
                                    <span class="zx-text-tiny">{{ roundDownTowDecimal(currentPaperHeight) }}</span>
                                    <span class="zx-text-tiny-tiny">
                                        {{ "printing-table.dimensions-cm" | translate }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="dimm-container-side-inner">
                            <div class="dimm-side-lines">
                                <div class="dimm-side-line"></div>
                            </div>
                        </div>
                    </article>
                    <!-- express -->
                    <article class="dimm-container-side-express" *ngIf="printingService === 'express'"
                        [class.zx-100-opacity]="isLoadingPreview || !currentImage || !currentPaperType"
                        [class.dimm-container-side-not-rtl-express]="!isRTL">
                        <!-- sider Dim 1 -->
                        <div id="siderDim1" class="d-flex flex-row-reverse"
                            [class.zx-100-opacity]="roundDownTowDecimal((currentPaperHeight - currentImageHeight) / 2) < 0.3">
                            <div class="h-100 d-flex align-items-center">
                                <div class="position-relative">
                                    <div class="dimm-number-side" [class.dimm-number-side-not-rtl]="!isRTL"
                                        [class.dimm-number-side-not-rtl-height]="!isRTL && currentImageHeight > currentImageWidth">
                                        <span class="zx-text-tiny">
                                            {{ roundDownTowDecimal((currentPaperHeight - currentImageHeight) / 2) }}
                                        </span>
                                        <span class="zx-text-tiny-tiny">
                                            {{ "printing-table.dimensions-cm" | translate }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="dimm-container-side-inner">
                                <div class="dimm-side-lines">
                                    <div class="dimm-side-line"></div>
                                </div>
                            </div>
                        </div>
                        <!-- sider Dim 2 -->
                        <div id="siderDim2" class="d-flex flex-row-reverse">
                            <div class="h-100 d-flex align-items-center">
                                <div class="position-relative">
                                    <div class="dimm-number-side" [class.dimm-number-side-not-rtl]="!isRTL"
                                        [class.dimm-number-side-not-rtl-height]="!isRTL && currentImageHeight > currentImageWidth">
                                        <span class="zx-text-tiny">{{ roundDownTowDecimal(currentImageHeight) }}</span>
                                        <span class="zx-text-tiny-tiny">
                                            {{ "printing-table.dimensions-cm" | translate }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="dimm-container-side-inner">
                                <div class="dimm-side-lines">
                                    <div class="dimm-side-line"></div>
                                </div>
                            </div>
                        </div>
                        <!-- sider Dim 3 -->
                        <div id="siderDim3" class="d-flex flex-row-reverse"
                            [class.zx-100-opacity]="roundDownTowDecimal((currentPaperHeight - currentImageHeight) / 2) < 0.3">
                            <div class="h-100 d-flex align-items-center">
                                <div class="position-relative">
                                    <div class="dimm-number-side" [class.dimm-number-side-not-rtl]="!isRTL"
                                        [class.dimm-number-side-not-rtl-height]="!isRTL && currentImageHeight > currentImageWidth">
                                        <span class="zx-text-tiny">
                                            {{ roundDownTowDecimal((currentPaperHeight - currentImageHeight) / 2) }}
                                        </span>
                                        <span class="zx-text-tiny-tiny">
                                            {{ "printing-table.dimensions-cm" | translate }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="dimm-container-side-inner">
                                <div class="dimm-side-lines">
                                    <div class="dimm-side-line"></div>
                                </div>
                            </div>
                        </div>

                    </article>

                </div>
            </div>
            <div class="h-100" style="width: 50px;"></div>
            <button *ngIf="currentPaperType" mat-button class="preview-button" [class.preview-button-not-rtl]="!isRTL"
                (click)="openPreviewDialog()">
                <div class="d-flex align-items-center gap-2">
                    <span class="zx-text-tiny m-0">
                        {{'printing-table.full-screen' | translate}}
                    </span>
                    <mat-icon class="mt-1 mx-0 mb-0">fullscreen</mat-icon>
                </div>
            </button>

            <!-- paper not selected area desktop -->
            <article *ngIf="(!currentImage || !currentPaperType) && !isLoading && !isLoadingPreview"
                class="no-image-selected-container" (click)="animatePaperStrongIfNeeded()">

                <!-- uplaud files -->
                <article *ngIf="!currentImage && proccessingFiles.length === 0" class="no-image-selected-inner"
                    [class.no-image-selected-inner-not-rtl]="!isRTL">
                    <div class="no-image-selected-upload-file file-btn-hover c-pointer" ng2FileDrop
                        [uploader]="uploader" (fileOver)="fileOverBase($event)" (onFileDrop)="onFileDrop($event)"
                        [ngClass]="{'file-drop-hover': hasBaseDropZoneOver}" (click)="fileInput.click()">
                        <h4 class="mb-0 fw-bold zx-px-10 text-center c-pointer" [@textAnimation]="rattle">
                            {{ 'printing-table.upload-file' | translate }}
                        </h4>
                        <img src="/assets/images/upload-file-icon.svg" class="upload-file-icon-big svg c-pointer pt-2"
                            [@rattleAnimation]="rattle">
                        <p class="text-center zx-text-big c-pointer" style="max-width: 60%;" [@textAnimation]="rattle">
                            {{'printing-table.upload-file-desktop' | translate}}
                        </p>
                        <input type="file" ng2FileSelect [uploader]="uploader" #fileInput hidden multiple />
                    </div>
                </article>
                <!-- // uplaud files -->

                <!-- files are uploading -->
                <!-- --- ADD HERE --- -->

                <!-- files are proccessing -->
                <article *ngIf="!currentImage && proccessingFiles.length !== 0" class="no-image-selected-inner"
                    [class.no-image-selected-inner-not-rtl]="!isRTL">
                    <div class="no-image-selected-upload-file">
                        <h4 class="mb-0 fw-bold zx-px-10 text-center opacity-trans">
                            {{'printing-table.proccessing-your-files' | translate}}
                        </h4>
                        <div class="upload-file-icon-big p-5">
                            <div class="w-100 h-100">
                                <mat-spinner class="w-100 h-100"></mat-spinner>
                            </div>
                        </div>
                        <h6 class="mb-0 zx-text-small text-center opacity-trans zx-z-index-1"
                            [class.opacity-trans-not-rtl]="!isRTL"
                            [matTooltip]="'printing-table.proccessing.explain' | translate"
                            [matTooltipPosition]="'above'" [dir]="tooltipDirection">
                            {{ 'printing-table.proccessing' | translate }}
                        </h6>
                    </div>
                </article>

                <!-- files are resizing -->
                <!-- --- ADD HERE --- -->

                <!-- choose paper -->
                <article *ngIf="!currentPaperType && files.length !== 0 && currentImage"
                    class="no-image-selected-inner">

                    <!-- title -->
                    <div class="d-flex w-100 justify-content-center align-items-center" *ngIf="isChosen" [matTooltip]="((currentFile.fileName.split('-')[1].length > 30 && currentFile.images.length === 1) ||
                        (currentFile.fileName.split('-')[1].length > 22 && currentFile.images.length !== 1))
                        ? currentFile.fileName.split('-')[1] : null">
                        <span class="text-center" style="max-width: 70%;">
                            <span
                                *ngIf="(!(currentFile.images.length > 1) && printingService === 'plotter') || printingService === 'express'">
                                {{'printing-table.need-to-set-paper-one-page' | translate}}
                            </span>
                            <span *ngIf="currentFile.images.length > 1 && printingService === 'plotter'">
                                {{'printing-table.need-to-set-paper-multi-page' | translate}}
                            </span>
                            <span *ngIf="currentFile.images.length > 1 && printingService === 'plotter'">
                                <span>
                                    <span>
                                        {{'printing-table.pages-short' | translate}}
                                    </span>
                                    <span [class.zx-text-white]="isDarkMode" class="fw-bold zx-text-pink">
                                        {{currentImageIndex + 1}}
                                    </span>
                                </span>
                                <span>
                                    {{'printing-table.in-the-file' | translate}}
                                </span>
                            </span>
                            <span class="fw-bold zx-text-pink" [class.zx-text-white]="isDarkMode">
                                <span>
                                    {{currentFile.fileName.split('-')[1] | slice:0:30}}
                                </span>
                                <span class="zx-text-tiny" *ngIf="currentFile.fileName.split('-')[1].length > 30">
                                    ...
                                </span>
                            </span>
                        </span>
                    </div>

                    <!-- [printing properties] paper - express + plotter - DESKTOP -->
                    <div class="d-flex" [@paperAnimation]="noPaper">
                        <mat-button-toggle-group *ngIf="printingService && !isLoading"
                            [class.zx-min-h-50]="printServicePapers.length > 2" name="paper type"
                            aria-label="Paper Type" [(ngModel)]="currentPaperType"
                            (ngModelChange)="onFileSettingsChangeBySystem()">
                            <mat-button-toggle
                                [disabled]="!currentImage  || isMaxInkLevelDisableingFile(paper, currentFile)"
                                class="zx-rtl zx-animate-paper-normal position-relative"
                                *ngFor="let paper of printServicePapers; let paperIndex = index"
                                [value]="paper.paperName || paper.paperType?.paperPrinterCode"
                                [class.zx-text-white]="isDarkMode"
                                [class.zx-paper-red]="!currentPaperType && currentImage && currentImage"
                                [class.zx-paper-red-end]="!currentPaperType && currentImage && paperIndex === printServicePapers.length - 1 && isRTL"
                                [class.zx-paper-red-end-not-rtl]="!currentPaperType && currentImage && paperIndex === printServicePapers.length - 1 && !isRTL"
                                [class.zx-paper-red-single-paper]="!currentPaperType && currentImage && printServicePapers.length === 1"
                                [class.zx-paper-red-middle-paper]="!currentPaperType && currentImage && (printServicePapers.length > 1 && paperIndex !== 0 && paperIndex !== printServicePapers.length - 1)"
                                [class.zx-paper-red-middle-paper-not-rtl]="(!currentPaperType && currentImage && (printServicePapers.length > 1 && paperIndex !== 0 && paperIndex !== printServicePapers.length - 1)) && !isRTL"
                                [class.choose-paper-not-selected-darkmode]="!currentPaperType && currentImage && isDarkMode"
                                [class.zx-animate-paper-strong]="!currentPaperType && isAnimatePaperStrong"
                                (click)="stopAnimateNoPaper()">
                                <span>{{ 'paper-type.name-short.' + (paper.serial_name ||
                                    paper.paperType?.paperType) | translate }}</span>
                                <div *ngIf="isMaxInkLevelDisableingFile(paper, currentFile)"
                                    class="w-100 h-100 position-absolute top-0 start-0 zx-z-index-1"
                                    (click)="maxInkLevelDisableSnackBar()"></div>
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>

                    <!-- tooltop -->
                    <div class="d-flex align-items-center gap-2 gap-md-3"
                        [class.zx-min-h-50]="printServicePapers.length > 2">
                        <span>
                            {{'printing-table.paper' | translate}}
                        </span>
                        <img #tooltipPaperTrigger src="/assets/images/i-explain-icon.svg"
                            class="i-explain-icon svg c-pointer"
                            (mouseenter)="showPaperTooltipDesktop(tooltipPaperTrigger)"
                            (mouseleave)="hidePaperTooltipDesktop()">
                    </div>

                    <!-- image -->
                    <div class="no-image-selected-image">
                        <img *ngIf="printingService === 'plotter' && currentImage && currentImage.thumbnailPath && branch && branch !== ''"
                            class="w-100 h-100 object-fit-contain rounded-5 zx-border-red-bold"
                            [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                            alt="Current File Image">
                        <img *ngIf="printingService === 'express'"
                            class="w-100 h-100 object-fit-contain rounded-5 zx-border-red-bold"
                            [src]="serverAddress+'/uploads/' + getUserName() + '/' + currentImage.thumbnailPath.split('/').pop()"
                            alt="Current File Image">
                    </div>

                </article>
                <!-- // choose paper -->

            </article>
        </article>
    </div>
</div>