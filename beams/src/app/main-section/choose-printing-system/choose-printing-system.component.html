<div class="full-screen overflow-hidden">
    <div class="d-flex flex-grow-1">

        <!-- CHOOSE PRINTING SYSTEM SIDE -->
        <div class="zx-settings-nav flex-shrink h-100 d-flex flex-column overflow-hidden"
            [class.zx-settings-nav-dark]="isDarkMode">

            <article #scrollContainer
                class="w-100 h-100 d-flex p-0 p-md-3 flex-column overflow-y-auto">

                <section class="d-flex flex-column w-100 vh-100-sm-none flex-shrink-0">

                    <article class="w-100 d-flex flex-column gap-2">

                        <div class="w-100 d-flex flex-column justify-content-between px-3 py-3">

                            <div class="w-100 d-flex justify-content-between align-items-center">
                                <h6 class="mb-0 zx-text-small fw-bold zx-text-sm-medium">
                                    {{'choose-system.step-1' | translate}}
                                </h6>
                            </div>

                        </div>
                    </article>

                    <article id="buttonElement"
                        class="zx-about-con-down w-100 d-flex flex-column gap-2 position-sticky top-0 flex-grow-1"
                        [class.zx-dark-gb]="isDarkMode">
                        <article
                            class="w-100 d-flex flex-column gap-2 flex-grow-1 justify-content-end justify-content-md-start px-3 px-md-0 flex-grow-1">

                            <!-- printingService BTNs and scroll container -->
                            <article
                                class="printing-service-btn-con-con d-flex flex-column gap-3 justify-content-between flex-grow-1"
                                style="max-width: 100%;">
                                <!-- printingService BTNs -->
                                <article class="printing-service-btn-con d-flex flex-column gap-3">
                                    <!-- Products BTNs -->
                                    <div *ngFor="let product of products; let i = index" 
                                        (mouseenter)="onHoverProduct(product)"
                                        (mouseleave)="onHoverProduct(null)"
                                        [class.zx-step-choosen]="selectedProduct?._id === product._id"
                                        class="step-item-trans-product step-item w-100 rounded-3 shadow-85 d-flex p-2 gap-md-3 align-items-center justify-content-center position-relative"
                                        [class.step-item-dark]="isDarkMode">
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="product-icon p-1 zx-big-icon-size-trans d-flex align-items-center justify-content-center bg-light rounded">
                                                <app-product-mini-preview [product]="product" style="width: 100%; height: 100%;"></app-product-mini-preview>
                                            </div>
                                            <b class="title-small-product d-none" style="max-width: 50px;">
                                                {{product.translatedName}}
                                            </b>
                                        </div>
                                        <div class="text-con-product d-flex flex-column flex-grow-1 justify-content-between justify-content-md-start align-items-md-start">
                                            <h6 class="fw-bold zx-text-big"
                                                [ngClass]="isRTL ? 'text-md-end' : 'text-md-start'">
                                                {{product.translatedName}}
                                            </h6>
                                            <span class="d-md-none opacity-75 zx-text-tiny zx-text-sm-small text-start"
                                                [ngClass]="isRTL ? 'text-md-end' : 'text-md-start'">
                                                דגם - {{product.name || 'מוצר מותאם אישית'}}
                                            </span>
                                            <span class="d-none d-md-inline opacity-75 zx-text-tiny zx-text-sm-small text-center"
                                                [ngClass]="isRTL ? 'text-md-end' : 'text-md-start'">
                                                דגם - {{product.name || 'מוצר לא מתאים'}}
                                            </span>
                                        </div>
                                        
                                        <!-- כפתור המשך למוצר -->
                                        <button mat-raised-button 
                                                class="continue-to-product-btn" 
                                                (click)="navigateToProduct(product); $event.stopPropagation()">
                                            <span class="opacity-75 zx-text-tiny zx-text-sm-small" [ngClass]="isRTL ? 'text-md-end' : 'text-md-start'">המשך ל- {{product.name || 'מוצר לא טוב'}}</span>
                                        </button>
                                    </div>
                                
                                </article>
                            </article>
                        </article>

                    </article>

                    <div class="mat-toolbar-height d-lg-none"></div>
                </section>

                <article></article>

            </article>
            <!-- action BTN -->
            <div class="w-100 p-2 shadow-85-strong zx-z-index-1 hide-main-btn"
                *ngIf="printingService === 'express' || printingService === 'plotter' || printingService === 'ph'"
                [class.show-main-btn]="isSystemSet">
                <button type="button" mat-raised-button color="primary"
                    class="text-white rounded-pill w-100 zx-medium-btn zx-main-btn-effects fw-bold"
                    (click)="onSetPrintingService()">
                    {{ continueToServiceText }}
                </button>
            </div>
            <!-- // action BTN -->

        </div>
        <!-- // CHOOSE PRINTING SYSTEM SIDE -->

        <!-- CANVAS SIDE -->
        <div class="d-none d-md-flex h-100 flex-grow-1 justify-content-center align-items-center"
            [class.bg-white]="!isDarkMode">
            <article
                class="zx-canvas shadow-85 rounded-3 d-flex justify-content-center align-items-center position-relative"
                [class.zx-canvas-dark]="isDarkMode">
                <article
                    class="w-100 flex-grow-1 d-flex flex-column align-items-center flex-shrink-0 justify-content-between gap-5 px-lg-2 px-xl-3">

                    <!-- empty -->
                    <div *ngIf="hoveredPrintingService === ''"
                        class="w-100 d-flex flex-column align-items-center justify-content-center gap-3 pb-3 canvas-content">
                        <h6 class="zx-text-big fw-bold m-0 text-center animated-text canvas-title" 
                            [class.zx-rtl]="isRTL"
                            [class.fade-out]="isTextChanging">
                            {{ getCurrentTitle() | translate }}
                        </h6>
                        <div class="image-container">
                            <img [src]="'assets/images/system-empty.svg'" [alt]="'Choose Printing Service'"
                                class="zx-system-empty-icon canvas-image">
                        </div>
                        <h2 class="zx-text-big m-0 text-center animated-text canvas-text" 
                            [class.zx-rtl]="isRTL"
                            [class.fade-out]="isTextChanging">
                            {{ getCurrentText() | translate }}
                        </h2>
                        <h3 class="zx-text-medium m-0 text-center animated-text canvas-subtitle" 
                            [class.zx-rtl]="isRTL"
                            [class.fade-out]="isTextChanging">
                            {{ getCurrentSubtitle() | translate }}
                        </h3>
                    </div>
                    <!-- // empty -->

                    <!-- syste hover -->
                    <div *ngIf="hoveredPrintingService !== ''"
                        class="w-100 d-flex flex-column align-items-center justify-content-center gap-2 pb-3">
                        <h6 class="zx-text-big fw-bold m-0 text-center" [class.zx-rtl]="isRTL">
                            {{ 'choose-system.' + hoveredPrintingService | translate }}
                        </h6>
                        <img [src]="'assets/images/system-papers.svg'" [alt]="'Choose Printing Service'"
                            class="zx-system-papers-icon">
                        <h2 class="zx-text-medium m-0 text-center opacity-75 zx-lh-small px-4" [class.zx-rtl]="isRTL">
                            {{ 'choose-system.explanation-' + hoveredPrintingService | translate }}
                        </h2>
                    </div>
                    <!-- // syste hover -->

                </article>
            </article>
        </div>
        <!-- // CANVAS SIDE -->

    </div>
</div>